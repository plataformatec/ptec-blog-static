<!DOCTYPE html>
<html dir="ltr" lang="en-US" prefix="og: https://ogp.me/ns#">
<head>
  <meta charset="utf-8">
  <meta name="bitly-verification" content="b3acd9a47f4e">

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
  <meta name="emoji:root" content="/wp-content/themes/ptec">
  <meta name="theme-color" content="#cacaca">
  
    <meta name="bitly-verification" content="b3acd9a47f4e">
  <meta property="og:image" content="/wp-content/themes/ptec/assets/opengraph.png">
  <link rel="icon" sizes="192x192" href="/wp-content/themes/ptec/assets/icons/chrome-192x.png">
  <link rel="pingback" href="/xmlrpc.php">
  
		<!-- All in One SEO 4.5.4 - aioseo.com -->
		<title>Rails 4 and PostgreSQL Arrays « Plataformatec Blog</title>
		<meta name="description" content="In this post we show how Rails treats PostgreSQL array type, and how to use PL/pgSQL custom functions to do unique validations in PostgreSQL arrays.">
		<meta name="robots" content="max-image-preview:large">
		<meta name="keywords" content="rails,postgresql,custom functions,validations">
		<link rel="canonical" href="/2014/07/rails-4-and-postgresql-arrays/">
		<meta name="generator" content="All in One SEO (AIOSEO) 4.5.4">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="Plataformatec Blog | Plataformatec&#039;s place to talk about Ruby, Ruby on Rails, Elixir, and software engineering">
		<meta property="og:type" content="article">
		<meta property="og:title" content="Rails 4 and PostgreSQL Arrays « Plataformatec Blog">
		<meta property="og:description" content="In this post we show how Rails treats PostgreSQL array type, and how to use PL/pgSQL custom functions to do unique validations in PostgreSQL arrays.">
		<meta property="og:url" content="/2014/07/rails-4-and-postgresql-arrays/">
		<meta property="article:published_time" content="2014-07-15T12:00:20+00:00">
		<meta property="article:modified_time" content="2014-07-14T21:34:32+00:00">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="Rails 4 and PostgreSQL Arrays « Plataformatec Blog">
		<meta name="twitter:description" content="In this post we show how Rails treats PostgreSQL array type, and how to use PL/pgSQL custom functions to do unique validations in PostgreSQL arrays.">
		<meta name="google" content="nositelinkssearchbox">
		<script type="application/ld+json" class="aioseo-schema">{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#article","name":"Rails 4 and PostgreSQL Arrays « Plataformatec Blog","headline":"Rails 4 and PostgreSQL Arrays","author":{"@id":"\/author\/bernardo-chaves\/#author"},"publisher":{"@id":"\/#organization"},"image":{"@type":"ImageObject","url":"https:\/\/no-cache.hubspot.com\/cta\/default\/378213\/2aeae558-5b72-4df3-bf32-e1119f34d85e.png","@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#articleImage"},"datePublished":"2014-07-15T09:00:20-03:00","dateModified":"2014-07-14T18:34:32-03:00","inLanguage":"en-US","commentCount":8,"mainEntityOfPage":{"@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#webpage"},"isPartOf":{"@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#webpage"},"articleSection":"English, postgresql, rails 4"},{"@type":"BreadcrumbList","@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"\/#listItem","position":1,"name":"Home","item":"\/","nextItem":"\/2014\/#listItem"},{"@type":"ListItem","@id":"\/2014\/#listItem","position":2,"name":"2014","item":"\/2014\/","nextItem":"\/2014\/07\/#listItem","previousItem":"\/#listItem"},{"@type":"ListItem","@id":"\/2014\/07\/#listItem","position":3,"name":"July","item":"\/2014\/07\/","nextItem":"\/2014\/07\/rails-4-and-postgresql-arrays\/#listItem","previousItem":"\/2014\/#listItem"},{"@type":"ListItem","@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#listItem","position":4,"name":"Rails 4 and PostgreSQL Arrays","previousItem":"\/2014\/07\/#listItem"}]},{"@type":"Organization","@id":"\/#organization","name":"Plataformatec Blog","url":"\/"},{"@type":"Person","@id":"\/author\/bernardo-chaves\/#author","url":"\/author\/bernardo-chaves\/","name":"Bernardo Chaves","image":{"@type":"ImageObject","@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/3a256859a2d4663aa99df77e962eb017?s=96&d=mm&r=pg","width":96,"height":96,"caption":"Bernardo Chaves"}},{"@type":"WebPage","@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#webpage","url":"\/2014\/07\/rails-4-and-postgresql-arrays\/","name":"Rails 4 and PostgreSQL Arrays « Plataformatec Blog","description":"In this post we show how Rails treats PostgreSQL array type, and how to use PL\/pgSQL custom functions to do unique validations in PostgreSQL arrays.","inLanguage":"en-US","isPartOf":{"@id":"\/#website"},"breadcrumb":{"@id":"\/2014\/07\/rails-4-and-postgresql-arrays\/#breadcrumblist"},"author":{"@id":"\/author\/bernardo-chaves\/#author"},"creator":{"@id":"\/author\/bernardo-chaves\/#author"},"datePublished":"2014-07-15T09:00:20-03:00","dateModified":"2014-07-14T18:34:32-03:00"},{"@type":"WebSite","@id":"\/#website","url":"\/","name":"Plataformatec Blog","description":"Plataformatec's place to talk about Ruby, Ruby on Rails, Elixir, and software engineering","inLanguage":"en-US","publisher":{"@id":"\/#organization"}}]}</script>
		<!-- All in One SEO -->


		<!-- Meta Tag Manager -->
		<meta name="twitter:label1" content="Plataformatec">
		<meta name="twitter:data1" content="Professional Consulting and Development for companies using Elixir or Ruby">
		<!-- / Meta Tag Manager -->
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="alternate" type="application/rss+xml" title="Plataformatec Blog &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="Plataformatec Blog &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Plataformatec Blog &raquo; Rails 4 and PostgreSQL Arrays Comments Feed" href="/2014/07/rails-4-and-postgresql-arrays/feed/">
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.4.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"🏳️‍⚧️","🏳️​⚧️")?!1:!n(e,"🇺🇳","🇺​🇳")&&!n(e,"🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴​󠁧​󠁢​󠁥​󠁮​󠁧​󠁿");case"emoji":return!n(e,"🫱🏻‍🫲🏿","🫱🏻​🫲🏿")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id="wp-emoji-styles-inline-css" type="text/css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.4.2" type="text/css" media="all">
<style id="wp-block-library-inline-css" type="text/css">.has-text-align-justify{text-align:justify;}</style>
<link rel="stylesheet" id="mediaelement-css" href="/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css?ver=4.2.17" type="text/css" media="all">
<link rel="stylesheet" id="wp-mediaelement-css" href="/wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=6.4.2" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="webfont-css" href="//fonts.googleapis.com/css?family=Bree+Serif&#038;ver=6.4.2" type="text/css" media="all">
<link rel="stylesheet" id="main-css" href="/wp-content/themes/ptec/style.css?ver=6.4.2" type="text/css" media="all">
<link rel="stylesheet" id="tablepress-default-css" href="/wp-content/plugins/tablepress/css/build/default.css?ver=2.2.4" type="text/css" media="all">
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/4115">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.4.2">
<link rel="shortlink" href="/?p=4115">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2014%2F07%2Frails-4-and-postgresql-arrays%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2014%2F07%2Frails-4-and-postgresql-arrays%2F#038;format=xml">
</head>
  <body class="post-template-default single single-post postid-4115 single-format-standard">
    <div class="site-header">
      <div class="site-header-background">
        <header class="site-header-container">
          <h1 class="site-header-logo">
            <a href="/">
              <img src="/wp-content/themes/ptec/assets/plataformatec.svg" height="70" alt="The plataformatec logo">
            </a>
          </h1>

          <form class="header-search-form" method="GET" action="/">
            <input type="search" name="s" placeholder="Search our blog..." class="header-search-input">
          </form>

          <ul class="site-nav">
            <li class="site-nav-item"><a href="http://plataformatec.com.br/services">Services</a></li>
            <li class="site-nav-item"><a href="http://plataformatec.com.br/playbook">Playbook</a></li>
            <li class="site-nav-item handheld-hidden"><a href="http://plataformatec.com.br/forge">Forge</a></li>
            <li class="site-nav-item"><a href="http://plataformatec.com.br/careers">Careers</a></li>
            <li class="site-nav-item"><a href="http://plataformatec.com.br/contact">Contact</a></li>
          </ul>
        </header>
      </div>
      <nav class="header-nav">
        <input type="checkbox" id="nav-toggle-checkbox" class="header-nav-checkbox">
        <label for="nav-toggle-checkbox" class="header-nav-toggle">Topics we write about</label>

        <ul class="header-nav-list" itemscope itemtype="http://schema.org/SiteNavigationElement">
          <li class="header-nav-item header-search-nav-item">
            <form class="header-nav-search-form" method="GET" action="/">
              <input type="search" name="s" placeholder="Search our blog..." class="header-search-input">
            </form>
          </li>
                    <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/elixir" itemprop="url">Elixir</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/rails" itemprop="url">Ruby on Rails</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/devise" itemprop="url">Devise</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/simple_form" itemprop="url">Simple Form</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/agile" itemprop="url">Agile</a>
          </li>
        </ul>
      </nav>
    </div>
<div class="site-container">
  <div class="page-container">
                  <section class="post-section">
  <header class="post-header">
    <h1 class="post-title">
      <a href="/2014/07/rails-4-and-postgresql-arrays/" rel="bookmark">Rails 4 and PostgreSQL Arrays</a>
    </h1>
          <time class="post-date-ribbon" datetime="2014-07-15T09:00:20-03:00">Jul 15, 2014</time>
      <p class="post-author">
        <img alt="" src="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">        Written by <a href="/?author=30" title="Posts by Bernardo Chaves">Bernardo Chaves</a>.
      </p>
        </header>

      <article class="post-body">
      <p>Rails 4 supports arrays fields for PostgreSQL in a nice way, although it is not a very known feature. In order to demonstrate its usage it&#8217;s useful to explain the context where this was used.</p>
<h3>PostgreSQL Arrays and Rails Migrations</h3>
<p>Suppose we have a <i>Product model</i> with the following fields: <i>name</i>, <i>category_id</i> and <i>tags</i>. The <i>name </i>field will be a simple string, <i>category_id </i>will be the <i>foreign key</i> of a record in the <i>Category model </i>and <i>tags </i>will be created by inputting a string of comma-separated words, so: <i>&#8220;one, two, forty two&#8221;</i> will become the tags: <i>&#8220;one&#8221;</i>,<i> &#8220;two&#8221; </i>and<i> &#8220;forty two&#8221; </i>respectively<i>.</i></p>
<p>Creating these tables via migrations is nothing new, except for the column <i>tags </i>which will have the Array type in this case. To create this kind of column we use the following syntax in our migration:</p>
<pre lang="ruby">create_table :categories do |t|
  t.string :name, null: false
end

create_table :products do |t|
  t.string :name, null: false
  t.references :category, null: false
  t.text :tags, array: true, default: []
end
</pre>
<p>Let&#8217;s explore what we can do with this kind of field using the postgres console:</p>
<pre lang="plsql">$ rails db
> insert into products(name, category_id, tags) values('T-Shirt', 3, '{clothing, summer}');
> insert into products(name, category_id, tags) values('Sweater', 3, ARRAY['clothing', 'winter']);
> select * from products;
1  |  T-Shirt  |  3  | {clothing, summer}
2  |  Sweater  |  3  | {clothing, winter}
</pre>
<p>As we can see we need to specify each tag following this syntax:</p>
<p><i>&#8216;{ val1, val2, … }&#8217; </i>or <i>ARRAY[&#8216;val1&#8217;, &#8216;val2&#8217;, &#8230;]</i></p>
<p>Let&#8217;s play a little more to understand how this column behaves when queried:</p>
<pre lang="plsql">
> select * from products where tags = '{clothing, summer}';
1  |  T-Shirt  |  3  | {clothing, summer}

> select * from products where tags = '{summer, clothing}';
(0 rows)

> select * from products where 'winter' = ANY(tags);
2  |  Sweater  |  3  |  {clothing, winter}
</pre>
<p>As this example demonstrates, searching for records by an array with its values in the order they were inserted works, but with the same values in a different order does not. We were also able to find a record searching for a specific tag using the ANY function.</p>
<p>There&#8217;s a lot more to talk about arrays in PostgreSQL, but for our example this is enough. You can find more information at the PostgreSQL official documentation about <a href="http://www.postgresql.org/docs/current/static/arrays.html">arrays</a> and its <a href="http://www.postgresql.org/docs/current/static/functions-array.html">functions</a>.</p>
<h3>How Rails treats PostgreSQL arrays</h3>
<p>It&#8217;s also valuable to see how to use the array field within Rails, let&#8217;s try:</p>
<pre lang="rails">$ rails c

Product.create(name: 'Shoes', category: Category.first, tags: ['a', 'b', 'c'])
#> 

Product.find(26).tags
#> ["a", "b", "c"]
</pre>
<p>So Rails treats an array column in PostgreSQL as an Array in Ruby, pretty reasonable!</p>
<h3>Validations</h3>
<p>We want each product to be unique, let&#8217;s see some examples to clarify this concept.</p>
<p>Given we have the following product:</p>
<pre lang="rails">Product.create(name: 'Shoes', category: Category.first, tags: ['a', 'b', 'c'])
</pre>
<p>We can easily create another one if we change the <i>name</i> attribute:</p>
<pre lang="rails">Product.create(name: 'Slippers', category: Category.first, tags: ['a', 'b', 'c'])
</pre>
<p>We can also create another product with different tags:</p>
<pre lang="rails">Product.create(name: 'Shoes', category: Category.first, tags: ['a', 'b'])
</pre>
<p>But we don&#8217;t want to create a product with the same attributes, even if the tags are in a different order:</p>
<pre lang="rails">Product.create(name: 'Shoes', category: Category.first, tags: ['a', 'c', 'b'])
#> false
</pre>
<p>As PostgreSQL only finds records by tags given the exact order in which they were inserted, then how can we ensure the uniqueness of a product with tags in an order-independent way?</p>
<p>After much thought we decided that a good approach would involve creating an unique index with all the columns in the products table but with tags sorted when a row is inserted in the database. Something like:</p>
<pre lang="plsql">CREATE UNIQUE INDEX index_products_on_category_id_and_name_and_tags
ON products USING btree (category_id, name, sort_array(tags));
</pre>
<p>And <i>sort_array </i>is our custom function responsible for sorting the array, since PostgreSQL does not have a built in function like this.</p>
<h3>Creating a custom function in PostgreSQL using PL/pgSQL</h3>
<p>To create a custom function we used the <i>PL/pgSQL</i> language, and since we are adding database specific code like this we can&#8217;t use the default <i>schema.rb </i>anymore. Let&#8217;s change this in <i>config/application.rb</i>:</p>
<pre lang="rails"># Use SQL instead of AR schema dumper when creating the database
config.active_record.schema_format = :sql
</pre>
<p>With this configuration set, our <i>schema.rb</i> file will be replaced by a <i>structure.sql</i> file without side effects, our current migrations don&#8217;t need to be changed at all. Now we can create a migration with our <i>sort_array </i>code:</p>
<pre lang="rails">
def up
  execute 
<p>Now, let's take it slow and understand step by step</p>
<pre lang="plsql">CREATE FUNCTION sort_array(unsorted_array anyarray) RETURNS anyarray
</pre>
<p>The line above tells that we are creating a function named <i>sort_array </i>and that it receives a parameter named <i>unsorted_array </i>of type <i>anyarray </i>and returns something of this same type. This <i>anyarray,</i> in fact, is a <i>pseudo-type </i>that indicates that a function accepts any array data type.</p>
<pre lang="plsql">RETURN (SELECT ARRAY_AGG(val) AS sorted_array
FROM (SELECT UNNEST(unsorted_array) AS val ORDER BY val) AS sorted_vals);
</pre>
<p>The trick here is the use of the function <i>unnest </i>that expands an Array to a set of rows. Now we can order these rows and after that we use another function called <i>array_agg </i>that concatenates the input into a new Array.</p>
<pre lang="plsql">$$ LANGUAGE plpgsql IMMUTABLE STRICT;
</pre>
<p>The last trick is the use of the keywords <i>IMMUTABLE</i>  and <i>STRICT</i>. With the first one we guarantee that our function will always return the same output given the same input, we can't use it in our index if we don't specify so. The other one tells that our function will always return <i>null </i>if some of the parameters are not specified.</p>
<p>And that's it! With this we can check for uniqueness in a performant way with some method like:</p>
<pre lang="rails">def duplicate_product_exists?
  relation = self.class.
    where(category_id: category_id).
    where('lower(name) = lower(?)', name).
    where('sort_array(tags) = sort_array(ARRAY[?])', tags)

  relation = relation.where.not(id: id) if persisted?

  relation.exists?
end
</pre>
<h3>Case insensitive arrays</h3>
<p>There is still a problem with our code though, the index is not case insensitive!  What if a user inserts a product with tags ['a', 'b'] and another one inserts the same product but with tags ['A', 'b']? Now we have duplication in our database! We have to deal with this, but unfortunately this will increase the complexity of our <i>sort_array </i>function a little bit. To fix this problem we only need to change one single line:</p>
<p>From this:</p>
<pre lang="plsql">
FROM (SELECT UNNEST(unsorted_array) AS val ORDER BY val) AS sorted_vals);
</pre>
<p>To:</p>
<pre lang="plsql">
FROM
(SELECT
  UNNEST(string_to_array(lower(array_to_string(unsorted_array, ',')), ','))
  AS val ORDER BY val)
AS sorted_vals);
</pre>
<p>The difference is that instead of passing unsorted_array directly to the function <i>unnest </i>we are transforming it in an String, calling lower on it and transforming it back to an Array before passing it on. With this change it doesn't matter if the user inserts ['a'] or ['A'], every tag will be saved in lowercase in the index. Problem solved!</p>
<p>As we can see, it's not an easy task to deal with uniqueness and arrays in the database, but the overall result was great.</p>
<p><i>Would you solve this problem in a different way? Share with us!</i></p>
<p style="text-align: center;">
</p><p><span id="hs-cta-wrapper-2aeae558-5b72-4df3-bf32-e1119f34d85e" class="hs-cta-wrapper"><span id="hs-cta-2aeae558-5b72-4df3-bf32-e1119f34d85e" class="hs-cta-node hs-cta-2aeae558-5b72-4df3-bf32-e1119f34d85e"> <a href="http://cta-redirect.hubspot.com/cta/redirect/378213/2aeae558-5b72-4df3-bf32-e1119f34d85e"><img decoding="async" id="hs-cta-img-2aeae558-5b72-4df3-bf32-e1119f34d85e" class="hs-cta-img aligncenter" style="border-width: 0px;" src="https://no-cache.hubspot.com/cta/default/378213/2aeae558-5b72-4df3-bf32-e1119f34d85e.png" alt=""></a></span></span></p>
    </pre></article>
  
      <p class="post-metadata">
      Tags: <a href="/tag/postgresql/" rel="tag">postgresql</a>, <a href="/tag/rails-4/" rel="tag">rails 4</a>, Posted in <a href="/category/english/" rel="category tag">English</a>,   <a href="/2014/07/rails-4-and-postgresql-arrays/#comments"><span class="dsq-postid" data-dsqidentifier="4115 http://blog.plataformatec.com.br/?p=4115">8 Comments &#187;</span></a>    </p>
  </section>

        <div class="comments-thread">
          
<!-- You can start editing here. -->

	<h3 id="comments">
		8 responses to &#8220;Rails 4 and PostgreSQL Arrays&#8221;	</h3>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

	<ol class="commentlist">
			<li class="comment even thread-even depth-1" id="comment-1413">
				<div id="div-comment-1413" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/2d098a193d2778f08be0dfaf779a23b1?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/2d098a193d2778f08be0dfaf779a23b1?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">			<cite class="fn">Petteri Räty</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1413">July 15, 2014 at 11:16 am</a>		</div>

		<p>Since the end of the blog post asks how the problem can be solved in a different way, I will note that, if you make Tag a separate model, there&#8217;s less need for specialized code. However, I considered the point of the post to be to introduce PostgresSQL Arrays and not necessarily to provide to best solution. The article would of course benefit from some thoughts on pros/cons. Thanks for introducing this.</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1414">
				<div id="div-comment-1414" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">			<cite class="fn">Bernardo Chaves</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1414">July 15, 2014 at 2:28 pm</a>		</div>

		<p>The suggestion about the pros/cons is a great idea. In this case we didn&#8217;t create a Tag model because our uniqueness validation problem would still remain. Also, we don&#8217;t use tags for anything else besides product categorization. But I agree with you that if we need something else from tags it might be a good idea to use a proper model. Thanks for the feedback!</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1415">
				<div id="div-comment-1415" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/2d098a193d2778f08be0dfaf779a23b1?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/2d098a193d2778f08be0dfaf779a23b1?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Petteri Räty</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1415">July 15, 2014 at 4:05 pm</a>		</div>

		<p>For the uniqueness a standard unique index over the foreign key and tag name will suffice, if it can be case sensitive. For the case insensitivity with a tag model I would use the schema_plus gem <a href="https://github.com/lomba/schema_plus" rel="nofollow ugc">https://github.com/lomba/schema_plus</a> to allow expressions for the index. With this gem the schema format can be kept ruby.</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1416">
				<div id="div-comment-1416" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Bernardo Chaves</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1416">July 15, 2014 at 4:54 pm</a>		</div>

		<p>Cool gem, didn&#8217;t know about it. That&#8217;s an interesting approach to the problem, thanks for sharing!</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1417">
				<div id="div-comment-1417" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/a14d62ae5f97c4be8161a6cf17ab22f4?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/a14d62ae5f97c4be8161a6cf17ab22f4?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Jim Nasby</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1417">July 23, 2014 at 12:05 pm</a>		</div>

		<p>Yeah, it really sucks that Postgres doesn&#8217;t have the concept of a class. I suspect that normally when you do a separate model then you&#8217;d end up with a single tags table in the database and a many-many. That&#8217;s going to suck performance-wise.</p>
<p>What we&#8217;d really want is the ability to tell Postgres in one place &#8220;Hey, here&#8217;s how you handle tags&#8221; and then you could just instantiate that in whataver table you want.</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1418">
				<div id="div-comment-1418" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/a14d62ae5f97c4be8161a6cf17ab22f4?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/a14d62ae5f97c4be8161a6cf17ab22f4?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Jim Nasby</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1418">July 23, 2014 at 12:11 pm</a>		</div>

		<p>If you want case-insensitive, just use citext: <a href="http://www.postgresql.org/docs/9.4/static/citext.html" rel="nofollow ugc">http://www.postgresql.org/docs/9.4/static/citext.html</a></p>
<p>You can do the same thing in plSQL, which will probably be faster than plpgsql:</p>
<p>CREATE OR REPLACE FUNCTION array_sort(anyarray) RETURNS TABLE( sorted_array anyarray ) LANGUAGE sql AS $body$<br>
SELECT ARRAY_AGG(val) AS sorted_array<br>
    FROM (<br>
        SELECT UNNEST( $1 ) AS val<br>
        ORDER BY val<br>
    ) AS sorted_vals<br>
$body$;</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1419">
				<div id="div-comment-1419" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Bernardo Chaves</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1419">July 23, 2014 at 1:35 pm</a>		</div>

		<p>That&#8217;s a really cool idea and maybe it&#8217;s possible to use a custom type for this, but it&#8217;s something I still need to explore. Here is the doc: <a href="http://www.postgresql.org/docs/current/static/sql-createtype.html" rel="nofollow ugc">http://www.postgresql.org/docs/current/static/sql-createtype.html</a></p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1420">
				<div id="div-comment-1420" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=32&#038;d=mm&#038;r=pg" srcset="https://secure.gravatar.com/avatar/3a256859a2d4663aa99df77e962eb017?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Bernardo Chaves</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2014/07/rails-4-and-postgresql-arrays/#comment-1420">July 23, 2014 at 1:46 pm</a>		</div>

		<p>Great tip about citext! And it&#8217;s cool to use only plSQL in this case, I&#8217;m not sure about the speed difference though but might be worth a benchmark. Thanks for sharing!</p>

		
				</div>
				</li>
<!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

        </div>

        <div class="pagination-section">
          <a href="/2014/07/ruby-blocks-precedence/" rel="prev">Ruby blocks precedence</a>          <a href="/2014/07/the-new-html-sanitizer-in-rails-4-2/" rel="next">The new HTML sanitizer in Rails 4.2</a>        </div>
        </div>
  <aside class="sidebar-container">
  <div class="sidebar-box sidebar-box-divider">
    <ul class="social-links">
      <li><a href="/feed/" class="social-link rss-link" title="Subscribe to our RSS" target="_blank">Subscribe to our RSS</a></li>
      <li><a href="http://twitter.com/plataformatec" class="social-link twitter-link" title="Follow us on Twitter" target="_blank">@plataformatec</a></li>
      <li><a href="https://github.com/plataformatec" class="social-link github-link" title="Check our code at GitHub" target="_blank">Plataformatec @ GitHub</a></li>
      <li><a href="http://facebook.com/plataformatec.com.br" class="social-link facebook-link" title="Check our Facebook page" target="_blank">Plataformatec @ Facebook</a></li>
      <li><a href="http://www.linkedin.com/company/plataformatec" class="social-link linkedin-link" title="Check our LinkedIn page" target="_blank">Plataformatec @ LinkedIn</a></li>
    </ul>
  </div>

  <div class="sidebar-box sidebar-box-divider">
    This is the company blog of <strong>Plataformatec</strong>, a software development and
    consultancy company, specialized in Elixir, Ruby and Agile.
  </div>

  <div class="sidebar-box">
    <ul class="post-list">
      <li class="post-list-item">
<a href="/category/english">Posts in english</a> (107)</li>
      <li class="post-list-item">
<a href="/category/portugues">Posts em português</a> (33)</li>
    </ul>
  </div>

  <div class="sidebar-box">
    <h3 class="sidebar-title">Recent Posts</h3>

    <ul class="post-list">
                    <li class="post-list-item">
          <a href="/2020/01/important-information-about-our-elixir-and-ruby-open-source-projects/">Important information about our Elixir and Ruby Open Source projects</a>
        </li>
              <li class="post-list-item">
          <a href="/2020/01/elixir-what-about-tests/">Elixir: What about tests?</a>
        </li>
              <li class="post-list-item">
          <a href="/2019/12/okr-licoes-aprendidas-para-voce-comecar-a-aplica-lo-de-forma-efetiva/">OKR: lições aprendidas para você começar a aplicá-lo de forma efetiva</a>
        </li>
              <li class="post-list-item">
          <a href="/2019/11/divida-tecnica-por-que-fazer-quando-fazer-e-como-priorizar/">Dívida técnica: Por que fazer, quando fazer e como priorizar</a>
        </li>
              <li class="post-list-item">
          <a href="/2019/11/relation-between-story-points-and-development-time-lead-time/">Relation between Story Points and Development Time (Lead Time)</a>
        </li>
          </ul>
  </div>

  <div class="sidebar-box">
    <h3 class="sidebar-title">Read more about</h3>

    <ul class="post-list">
      <li class="post-list-item"><a href="/tag/open-source">Open Source</a></li>
      <li class="post-list-item"><a href="/tag/front-end">Front end</a></li>
      <li class="post-list-item"><a href="/tag/conference">Conferences</a></li>
      <li class="post-list-item"><a href="/tag/security-fix">Security fixes</a></li>
    </ul>
  </div>

  <div class="sidebar-box">
    <h3 class="sidebar-title">Check our product</h3>
    <a class="sidebar-cta-link" href="https://sourcelevel.io/">
      <img src="/wp-content/themes/ptec/assets/sourcelevel-300.png" width="300" alt="SourceLevel - Analytics for Engineering Ops">
	</a>

    <p align="center">Analytics for Engineering Ops.</p>
  </div>

</aside>
      <footer class="site-footer">
        <p>
          <span class="footer-copy">© 2009- 2024 Plataformatec. All rights reserved.</span>

          <a href="http://plataformatec.com.br/">Our site</a> ·
          <a href="http://plataformatec.com.br/contact">Contact us</a> ·
          <a href="http://twitter.com/plataformatec">@plataformatec</a>
        </p>
      </footer>
    </div>
    <script type="text/javascript" src="/wp-content/themes/ptec/application.js?ver=6.4.2" id="application-js"></script>
  </body>
</html>