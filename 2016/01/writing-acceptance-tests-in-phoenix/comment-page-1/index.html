<!DOCTYPE html>
<html dir="ltr" lang="en-US" prefix="og: https://ogp.me/ns#">
<head>
  <meta charset="utf-8">
  <meta name="bitly-verification" content="b3acd9a47f4e">

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
  <meta name="emoji:root" content="/wp-content/themes/ptec">
  <meta name="theme-color" content="#cacaca">
  
    <meta name="bitly-verification" content="b3acd9a47f4e">
  <meta property="og:image" content="/wp-content/themes/ptec/assets/opengraph.png">
  <link rel="icon" sizes="192x192" href="/wp-content/themes/ptec/assets/icons/chrome-192x.png">
  <link rel="pingback" href="/xmlrpc.php">
  
		<!-- All in One SEO 4.5.4 - aioseo.com -->
		<title>Writing Acceptance tests in Phoenix Â« Plataformatec Blog</title>
		<meta name="description" content="This blog post explains how to use Hound to write acceptance tests with tests with Phoenix and Elixir.">
		<meta name="robots" content="noindex, nofollow, max-image-preview:large">
		<link rel="canonical" href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comments">
		<meta name="generator" content="All in One SEO (AIOSEO) 4.5.4">
		<meta property="og:locale" content="en_US">
		<meta property="og:site_name" content="Plataformatec Blog | Plataformatec&#039;s place to talk about Ruby, Ruby on Rails, Elixir, and software engineering">
		<meta property="og:type" content="article">
		<meta property="og:title" content="Writing Acceptance tests in Phoenix Â« Plataformatec Blog">
		<meta property="og:description" content="This blog post explains how to use Hound to write acceptance tests with tests with Phoenix and Elixir.">
		<meta property="og:url" content="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comments">
		<meta property="article:published_time" content="2016-01-21T09:00:08+00:00">
		<meta property="article:modified_time" content="2016-01-28T14:34:10+00:00">
		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="Writing Acceptance tests in Phoenix Â« Plataformatec Blog">
		<meta name="twitter:description" content="This blog post explains how to use Hound to write acceptance tests with tests with Phoenix and Elixir.">
		<meta name="google" content="nositelinkssearchbox">
		<script type="application/ld+json" class="aioseo-schema">{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#article","name":"Writing Acceptance tests in Phoenix Â« Plataformatec Blog","headline":"Writing Acceptance tests in Phoenix","author":{"@id":"http:\/\/blog.plataformatec.com.br\/author\/igor-florian\/#author"},"publisher":{"@id":"http:\/\/blog.plataformatec.com.br\/#organization"},"image":{"@type":"ImageObject","url":"http:\/\/blog.plataformatec.com.br\/wp-content\/uploads\/2015\/05\/elixir-radar-subscribe.png","@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#articleImage","width":831,"height":207,"caption":"Subscribe to Elixir Radar"},"datePublished":"2016-01-21T07:00:08-02:00","dateModified":"2016-01-28T12:34:10-02:00","inLanguage":"en-US","commentCount":15,"mainEntityOfPage":{"@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#webpage"},"isPartOf":{"@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#webpage"},"articleSection":"English, acceptance tests, elixir, phoenix, tests"},{"@type":"BreadcrumbList","@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"http:\/\/blog.plataformatec.com.br\/#listItem","position":1,"name":"Home","item":"http:\/\/blog.plataformatec.com.br\/","nextItem":"http:\/\/blog.plataformatec.com.br\/2016\/#listItem"},{"@type":"ListItem","@id":"http:\/\/blog.plataformatec.com.br\/2016\/#listItem","position":2,"name":"2016","item":"http:\/\/blog.plataformatec.com.br\/2016\/","nextItem":"http:\/\/blog.plataformatec.com.br\/2016\/01\/#listItem","previousItem":"http:\/\/blog.plataformatec.com.br\/#listItem"},{"@type":"ListItem","@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/#listItem","position":3,"name":"January","item":"http:\/\/blog.plataformatec.com.br\/2016\/01\/","nextItem":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#listItem","previousItem":"http:\/\/blog.plataformatec.com.br\/2016\/#listItem"},{"@type":"ListItem","@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#listItem","position":4,"name":"Writing Acceptance tests in Phoenix","previousItem":"http:\/\/blog.plataformatec.com.br\/2016\/01\/#listItem"}]},{"@type":"Organization","@id":"http:\/\/blog.plataformatec.com.br\/#organization","name":"Plataformatec Blog","url":"http:\/\/blog.plataformatec.com.br\/"},{"@type":"Person","@id":"http:\/\/blog.plataformatec.com.br\/author\/igor-florian\/#author","url":"http:\/\/blog.plataformatec.com.br\/author\/igor-florian\/","name":"Igor Florian","image":{"@type":"ImageObject","@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#authorImage","url":"http:\/\/0.gravatar.com\/avatar\/3b89e3ba28bea51dbda7b859b015a7b2?s=96&d=mm&r=pg","width":96,"height":96,"caption":"Igor Florian"}},{"@type":"WebPage","@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#webpage","url":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/","name":"Writing Acceptance tests in Phoenix Â« Plataformatec Blog","description":"This blog post explains how to use Hound to write acceptance tests with tests with Phoenix and Elixir.","inLanguage":"en-US","isPartOf":{"@id":"http:\/\/blog.plataformatec.com.br\/#website"},"breadcrumb":{"@id":"http:\/\/blog.plataformatec.com.br\/2016\/01\/writing-acceptance-tests-in-phoenix\/#breadcrumblist"},"author":{"@id":"http:\/\/blog.plataformatec.com.br\/author\/igor-florian\/#author"},"creator":{"@id":"http:\/\/blog.plataformatec.com.br\/author\/igor-florian\/#author"},"datePublished":"2016-01-21T07:00:08-02:00","dateModified":"2016-01-28T12:34:10-02:00"},{"@type":"WebSite","@id":"http:\/\/blog.plataformatec.com.br\/#website","url":"http:\/\/blog.plataformatec.com.br\/","name":"Plataformatec Blog","description":"Plataformatec's place to talk about Ruby, Ruby on Rails, Elixir, and software engineering","inLanguage":"en-US","publisher":{"@id":"http:\/\/blog.plataformatec.com.br\/#organization"}}]}</script>
		<!-- All in One SEO -->


		<!-- Meta Tag Manager -->
		<meta name="twitter:label1" content="Plataformatec">
		<meta name="twitter:data1" content="Professional Consulting and Development for companies using Elixir or Ruby">
		<!-- / Meta Tag Manager -->
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="alternate" type="application/rss+xml" title="Plataformatec Blog &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="Plataformatec Blog &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Plataformatec Blog &raquo; Writing Acceptance tests in Phoenix Comments Feed" href="/2016/01/writing-acceptance-tests-in-phoenix/feed/">
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.plataformatec.com.br\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.4.2"}};
/*! This file is auto-generated */
!function(i,n){var o,s,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),r=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===r[t]})}function u(e,t,n){switch(t){case"flag":return n(e,"ðŸ³ï¸â€âš§ï¸","ðŸ³ï¸â€‹âš§ï¸")?!1:!n(e,"ðŸ‡ºðŸ‡³","ðŸ‡ºâ€‹ðŸ‡³")&&!n(e,"ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿","ðŸ´â€‹ó §â€‹ó ¢â€‹ó ¥â€‹ó ®â€‹ó §â€‹ó ¿");case"emoji":return!n(e,"ðŸ«±ðŸ»â€ðŸ«²ðŸ¿","ðŸ«±ðŸ»â€‹ðŸ«²ðŸ¿")}return!1}function f(e,t,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):i.createElement("canvas"),a=r.getContext("2d",{willReadFrequently:!0}),o=(a.textBaseline="top",a.font="600 32px Arial",{});return e.forEach(function(e){o[e]=t(a,e,n)}),o}function t(e){var t=i.createElement("script");t.src=e,t.defer=!0,i.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",s=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){i.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+f.toString()+"("+[JSON.stringify(s),u.toString(),p.toString()].join(",")+"));",r=new Blob([e],{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r),{name:"wpTestEmojiSupports"});return void(a.onmessage=function(e){c(n=e.data),a.terminate(),t(n)})}catch(e){}c(n=f(s,u,p))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id="wp-emoji-styles-inline-css" type="text/css">img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.4.2" type="text/css" media="all">
<style id="wp-block-library-inline-css" type="text/css">.has-text-align-justify{text-align:justify;}</style>
<link rel="stylesheet" id="mediaelement-css" href="/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css?ver=4.2.17" type="text/css" media="all">
<link rel="stylesheet" id="wp-mediaelement-css" href="/wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=6.4.2" type="text/css" media="all">
<style id="classic-theme-styles-inline-css" type="text/css">/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}</style>
<style id="global-styles-inline-css" type="text/css">body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flow > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained > .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained > .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained > .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex > *{margin: 0;}body .is-layout-grid{display: grid;}body .is-layout-grid > *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}</style>
<link rel="stylesheet" id="webfont-css" href="//fonts.googleapis.com/css?family=Bree+Serif&#038;ver=6.4.2" type="text/css" media="all">
<link rel="stylesheet" id="main-css" href="/wp-content/themes/ptec/style.css?ver=6.4.2" type="text/css" media="all">
<link rel="stylesheet" id="tablepress-default-css" href="/wp-content/plugins/tablepress/css/build/default.css?ver=2.2.4" type="text/css" media="all">
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/5007">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.4.2">
<link rel="shortlink" href="/?p=5007">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2016%2F01%2Fwriting-acceptance-tests-in-phoenix%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2016%2F01%2Fwriting-acceptance-tests-in-phoenix%2F#038;format=xml">
</head>
  <body class="post-template-default single single-post postid-5007 single-format-standard">
    <div class="site-header">
      <div class="site-header-background">
        <header class="site-header-container">
          <h1 class="site-header-logo">
            <a href="/">
              <img src="/wp-content/themes/ptec/assets/plataformatec.svg" height="70" alt="The plataformatec logo">
            </a>
          </h1>

          <form class="header-search-form" method="GET" action="/">
            <input type="search" name="s" placeholder="Search our blog..." class="header-search-input">
          </form>

          <ul class="site-nav">
            <li class="site-nav-item"><a href="http://plataformatec.com.br/services">Services</a></li>
            <li class="site-nav-item"><a href="http://plataformatec.com.br/playbook">Playbook</a></li>
            <li class="site-nav-item handheld-hidden"><a href="http://plataformatec.com.br/forge">Forge</a></li>
            <li class="site-nav-item"><a href="http://plataformatec.com.br/careers">Careers</a></li>
            <li class="site-nav-item"><a href="http://plataformatec.com.br/contact">Contact</a></li>
          </ul>
        </header>
      </div>
      <nav class="header-nav">
        <input type="checkbox" id="nav-toggle-checkbox" class="header-nav-checkbox">
        <label for="nav-toggle-checkbox" class="header-nav-toggle">Topics we write about</label>

        <ul class="header-nav-list" itemscope itemtype="http://schema.org/SiteNavigationElement">
          <li class="header-nav-item header-search-nav-item">
            <form class="header-nav-search-form" method="GET" action="/">
              <input type="search" name="s" placeholder="Search our blog..." class="header-search-input">
            </form>
          </li>
                    <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/elixir" itemprop="url">Elixir</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/rails" itemprop="url">Ruby on Rails</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/devise" itemprop="url">Devise</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/simple_form" itemprop="url">Simple Form</a>
          </li>
          <li class="header-nav-item" itemprop="name">
            <a class="header-nav-link" href="/tag/agile" itemprop="url">Agile</a>
          </li>
        </ul>
      </nav>
    </div>
<div class="site-container">
  <div class="page-container">
                  <section class="post-section">
  <header class="post-header">
    <h1 class="post-title">
      <a href="/2016/01/writing-acceptance-tests-in-phoenix/" rel="bookmark">Writing Acceptance tests in Phoenix</a>
    </h1>
          <time class="post-date-ribbon" datetime="2016-01-21T07:00:08-02:00">Jan 21, 2016</time>
      <p class="post-author">
        <img alt="" src="http://0.gravatar.com/avatar/3b89e3ba28bea51dbda7b859b015a7b2?s=32&#038;d=mm&#038;r=pg" srcset="http://0.gravatar.com/avatar/3b89e3ba28bea51dbda7b859b015a7b2?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">        Written by <a href="/?author=38" title="Posts by Igor Florian">Igor Florian</a>.
      </p>
        </header>

      <article class="post-body">
      <p>Acceptance testing seems to be in its first steps in the Elixir ecosystem, but there are already some cool libs that can help us out to do it. I&#8217;m going to show you how we did it with <a href="https://github.com/HashNuke/hound">Hound</a>.</p>
<p>In this blog post, we&#8217;ll write a few acceptance tests for an expenses report listing page, where we&#8217;ll interact with the report and some form elements.</p>
<p>To make possible to interact with the elements on the page, we&#8217;ll need a web browser driver. Hound accepts <code>chrome_driver</code>, <code>firefox</code>, <code>phantomjs</code> and <code>selenium</code>. My choice is <code>phantomjs</code> because I want to use a headless browser (I don&#8217;t want the driver to open a browser during the execution of the test suite).</p>
<h2>Setup</h2>
<p>First we&#8217;ll need to add Hound into our dependencies, so add the following line in your <code>mix.exs</code>:</p>
<pre><code class="elixir">{:hound, "~&gt; 0.8"}
</code></pre>
<p>Make sure it&#8217;ll start during the test suite runtime. To do this we&#8217;ll need to add <code>Application.ensure_all_started(:hound)</code> before <code>ExUnit.start</code> in our test helper:</p>
<pre><code class="elixir">Application.ensure_all_started(:hound)
ExUnit.start
</code></pre>
<p>We&#8217;ll be using <code>phantomjs</code> as our web driver. <a href="http://phantomjs.org/download.html">Make sure it&#8217;s properly installed and that you can start it</a> with <code>phantomjs --wd</code>. To configure it, add this to the <code>config.exs</code> file:</p>
<pre><code class="elixir">config :hound, driver: "phantomjs"
</code></pre>
<p>Take a look at <a href="https://github.com/HashNuke/hound/blob/master/notes/configuring-hound.md">this doc from Hound resources</a> to check if you&#8217;d like different configs.</p>
<p>We&#8217;ll also need to set the server config in our <code>config/test.exs</code>to <code>true</code>.</p>
<pre><code class="elixir">config :my_app, MyApp.Endpoint,
  http: [port: 4001]
  server: true
</code></pre>
<p>That should do it! Before writing our first test, let&#8217;s define an <code>IntegrationCase</code> module, similar to the <code>ModelCase</code> and <code>ConnCase</code> provided by Phoenix, which will include all functionality we need to write our integration tests. Create the <code>test/support/integration_case.ex</code> file and add the following content:</p>
<pre><code class="elixir">defmodule MyApp.IntegrationCase do
  use ExUnit.CaseTemplate

  using do
    quote do
      use Hound.Helpers

      import Ecto.Model
      import Ecto.Query, only: [from: 2]
      import MyApp.Router.Helpers

      alias MyApp.Repo

      # The default endpoint for testing
      @endpoint MyApp.Endpoint

      hound_session
    end
  end

  setup tags do
    unless tags[:async] do
      Ecto.Adapters.SQL.restart_test_transaction(MyApp.Repo, [])
    end

    :ok
  end
end
</code></pre>
<p>There are a few lines that are worth commenting:</p>
<ul>
<li>
<code>use Hound.Helpers</code> will include the helpers necessary for us to interact with our interface (<a href="http://hexdocs.pm/hound/readme.html">take a look at the docs and explore them a little, they&#8217;ll be very helpful</a>);</li>
<li>
<code>hound_session</code> will make sure that Hound will start and closes its session during the test execution;</li>
<li>
<code>import MyApp.Router.Helpers</code> will include helpers so we can manipulate routes and URLs.</li>
</ul>
<h2>Exercise</h2>
<p>Let&#8217;s test!</p>
<p>We&#8217;re testing a simple list of expenses from a city (that example was extracted from an app we have been working on, but its scope was reduced so we can follow the steps more easily).</p>
<p>Take a look at its template code:</p>
<pre><code class="html">&lt;div&gt;
  &lt;%= form_for @conn, city_expense_path(@conn, :index, @city.id), [as: :q, method: :get], fn f -&gt; %&gt;
    &lt;div&gt;
      &lt;label for=&quot;q_status&quot;&gt;Status&lt;/label&gt;
      &lt;%=
        select f, :status, [{&quot;Paid&quot;, &quot;paid&quot;}, {&quot;Cancelled&quot;, &quot;cancelled&quot;}], prompt: &quot;All&quot; %&gt;
    &lt;/div&gt;

    &lt;div&gt;
      &lt;label for=&quot;q_supplier&quot;&gt;Supplier&lt;/label&gt;
      &lt;%= text_input f, :supplier %&gt;
    &lt;/div&gt;

    &lt;%= submit &quot;Submit&quot; %&gt;
  &lt;% end %&gt;
&lt;/div&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;th&gt;ID&lt;/th&gt;
    &lt;th&gt;Status&lt;/th&gt;
    &lt;th&gt;Supplier&lt;/th&gt;
    &lt;th&gt;Value&lt;/th&gt;
    &lt;th&gt;Date&lt;/th&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;%= for expense &lt;- @expenses do %&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;%= expense.id %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%= expense.status %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%= expense.supplier.name %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%= expense.value %&gt;&lt;/td&gt;
        &lt;td&gt;&lt;%= expense.date %&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;% end %&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>
<p>We&#8217;ll need a new test file, let&#8217;s put it at <code>test/integration/expenses_list_test.exs</code>. To use Houndâ€™s facilities, we&#8217;ll need to use the <code>IntegrationCase</code> module that we have previously created.</p>
<pre><code class="elixir">defmodule MyApp.ExpenseListTest do
  use MyApp.IntegrationCase

end
</code></pre>
<p>We&#8217;ll be using three private functions to help us making assertions and interacting with elements in our test file. The first one, <code>expense_on_the_list</code>, will check if a given expense, that is represented by the Ecto model called <code>MyApp.Expense</code>, is in there. The second function is just a helper for getting the expenses list and the third will help us interact with a select input within a form.</p>
<pre><code class="elixir">defmodule MyApp.ExpenseListTest do
  use MyApp.IntegrationCase

  # ...

  defp expense_on_the_list(expense, list) do
    list
    |&gt; visible_text
    |&gt; String.contains?(expense.id)
  end

  defp expense_list_items do
    find_element(:tag, "tbody")
    |&gt; find_all_within_element(:tag, "tr")
  end

  defp select_status(form, status) do
    form
    |&gt; find_within_element(:id, "q_status")
    |&gt; input_into_field(status)
  end
end
</code></pre>
<p>To interact with an element, you&#8217;ll always need to find the element on the page and for this, you need to know Hound&#8217;s <a href="http://hexdocs.pm/hound/Hound.Helpers.Page.html">page helpers</a>. I&#8217;ve noticed that we ended up using <code>find_element</code> and <code>find_all_within_element</code> most of the time to find the elements on the page or in a context (i.e inside a previously found element).</p>
<p>Since this test is about the City resource, we&#8217;ve created just this city and navigated to it directly on the setup, since this would be a requirement for all the tests in this file, and shared it with all the tests through the setup context.</p>
<pre><code class="elixir">setup do
  city = insert_city!(%{name: "Winterfell"})

  navigate_to("/cities/#{city.id}/expenses")

  {:ok, city: city}
end
</code></pre>
<p><a href="http://hexdocs.pm/hound/Hound.Helpers.Navigation.html#content">Navigation</a> is another important Hound module. It will help us go through our app easily and get info about the page, like the <code>current_path()</code> function that returns the path we&#8217;re navigating on that moment.</p>
<p>Now that we&#8217;re on the page, we&#8217;ll be interacting with the form, by finding elements that are within it and filling or selecting values on them.</p>
<pre><code class="elixir">test "filter by supplier", %{city: city} do
  supplier = insert_supplier!(%{name: "Ned Stark"})
  supplier_b = insert_supplier!(%{name: "Bell Tower Management"})
  expense = insert_expense!(%{supplier: supplier, city: city, status: "paid"})
  insert_expense!(%{supplier: supplier_b, city: city, status: "paid"})

  search_form = find_element(:tag, "form")
  search_form
  |&gt; find_within_element(:id, "q_supplier")
  |&gt; fill_field("Ned")

  submit_element(search_form)


  items = expense_list_items
  assert length(items) == 1
  assert expense_on_the_list(expense, items)
end
</code></pre>
<p>The module responsible for these tasks is <a href="http://hexdocs.pm/hound/Hound.Helpers.Element.html">Element</a>. It has very useful functions, like <code>fill_field</code> we used above. All of its functions require an element.</p>
<p>In the previous example, the interactions with the form ended with <code>submit_element</code>, but if we need any other action on it after this, we would need to re-assign it (otherwise, we&#8217;ll get a <code>** (RuntimeError) Element does not exist in cache</code> error), like in the following example:</p>
<pre><code class="elixir">test "filter by statuses", %{city: city} do
  supplier = insert_supplier!(%{name: "Jon Snow"})

  cancelled_expense = insert_expense!(%{supplier: supplier, city: city, status: "cancelled"})
  paid_expense = insert_expense!(%{supplier: supplier, city: city, status: "paid"})

  search_form = find_element(:tag, "form")
  select_status(search_form, "Cancelled")

  submit_element(search_form)

  items = expense_list_items
  assert length(items) == 1
  assert expense_on_the_list(cancelled_expense, items)

  search_form = find_element(:tag, "form")
  select_status(search_form, "Paid")
  submit_element(search_form)

  items = expense_list_items
  assert length(items) == 1
  assert expense_on_the_list(paid_expense, items)
end
</code></pre>
<h2>Verify</h2>
<h3>Runtime</h3>
<p>One of the things I&#8217;ve paid a lot of attention during this experience was the test suite runtime. As expected, it can get slow with acceptance tests. The original app is still really tiny and before adding the acceptance tests, the runtime was:</p>
<pre><code>Finished in 0.6 seconds (0.5s on load, 0.1s on tests)
23 tests, 0 failures, 2 skipped
</code></pre>
<p>After including two tests (but with more interactions than the ones presented), it was noticeable the test suite became slower. It tripled the runtime.</p>
<pre><code>Finished in 1.8 seconds (0.5s on load, 1.2s on tests)
25 tests, 0 failures, 2 skipped
</code></pre>
<p>This effect is actually expected. We know that acceptance tests are expensive and that they should be a small portion of your <a href="http://martinfowler.com/bliki/TestPyramid.html">test pyramid</a></p>
<p>There are a few things that can make acceptance tests faster:</p>
<ul>
<li>Upcoming Ecto v2.0 will allow us to <a href="https://github.com/elixir-lang/ecto/pull/1198">run tests that use database persistence asyncronously</a>;
</li>
<li>
<p>In my experience Phantom.js considerably faster than the other options, I recommend you to go with it.</p>
</li>
</ul>
<p>You will definitely need to write some acceptance tests, but give preference to controller tests in most scenarios and use acceptance tests for important flows of your app (take a look at the <a href="https://www.techwell.com/2012/10/performing-effective-automated-acceptance-testing">user journey concept</a>, that can give you some good insights).</p>
<h2>Web driver server execution</h2>
<p>Currently, Hound doesn&#8217;t execute the browser automatically during tests. You&#8217;ll need to start it; otherwise, your tests will fail. There may be some workarounds to achieve it, if you&#8217;re on OS X, you can run <a href="http://blog.animascodelabs.com/2015/12/31/running-phantomjs-ghostdriver-as-an-osx-service/">Phantomjs as a service</a>.</p>
<h2>Teardown</h2>
<p>I really enjoyed playing with Hound, and I found very simple to work with it. Also, I see it as a potential project if you&#8217;re considering contributing to an Open Source Project.</p>
<p>I hope this post was useful and gave you some ideas of how to write acceptance tests with Elixir and Phoenix. If you have any questions or suggestions, I&#8217;m all ears (or eyes).</p>
<p><em>Which tool have you recently found to be useful when writing tests in Elixir?</em></p>
<p><a href="http://plataformatec.com.br/elixir-radar?utm_source=our-blog&#038;utm_medium=referral&#038;utm_campaign=elixir-radar&#038;utm_content=elixir-radar-cta-blog-post-bottom"><br>
  <img decoding="async" src="/wp-content/uploads/2015/05/elixir-radar-subscribe.png" alt="Subscribe to Elixir Radar" style="border:0"><br>
</a></p>
    </article>
  
      <p class="post-metadata">
      Tags: <a href="/tag/acceptance-tests/" rel="tag">acceptance tests</a>, <a href="/tag/elixir/" rel="tag">elixir</a>, <a href="/tag/phoenix/" rel="tag">phoenix</a>, <a href="/tag/tests/" rel="tag">tests</a>, Posted in <a href="/category/english/" rel="category tag">English</a>,   <a href="/2016/01/writing-acceptance-tests-in-phoenix/#comments"><span class="dsq-postid" data-dsqidentifier="5007 http://blog.plataformatec.com.br/?p=5007">15 Comments &#187;</span></a>    </p>
  </section>

        <div class="comments-thread">
          
<!-- You can start editing here. -->

	<h3 id="comments">
		15 responses to &#8220;Writing Acceptance tests in Phoenix&#8221;	</h3>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

	<ol class="commentlist">
			<li class="comment even thread-even depth-1" id="comment-1544">
				<div id="div-comment-1544" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/1b7fef03e1f15f2cfd76eee5b0830d3f?s=32&#038;d=mm&#038;r=pg" srcset="http://1.gravatar.com/avatar/1b7fef03e1f15f2cfd76eee5b0830d3f?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">			<cite class="fn">Keith Salisbury</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1544">January 21, 2016 at 12:46 pm</a>		</div>

		<p>Hey, I think this is a great post so thanks for sharing. Something that always bugs me when people do acceptance testing is the tight coupling of implementation to specification by explicit reference to dom elements such as `tbody` and `tr`. What happens if the UI changes to using divs instead? IMHO using dom data attributes or classes reduces the fragility somewhat, enabling the front end implementation to be changed without forcing the spec to change. Just MHO though, opinions may vary.</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1545">
				<div id="div-comment-1545" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=32&#038;d=mm&#038;r=pg" srcset="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">			<cite class="fn">Igor Florian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1545">January 22, 2016 at 1:43 pm</a>		</div>

		<p>Hey Keith, thanks for sharing your opinion! &lt;3</p>
<p>The code presented in the post is just an example for didact purpose. In a real-case scenario, we&#039;d probably have a more complex DOM with style, so Iâ€™d use the same approach you mentioned.</p>
<p>Although, I don&#039;t really have a problem referencing elements on the tests when the template is simple like that. Even if it breaks my suite when the change happens, I actually like my test suite reacting to change.</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1546">
				<div id="div-comment-1546" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/20571f32acd27d2cf5f1b1f42ea1a75b?s=32&#038;d=mm&#038;r=pg" srcset="http://2.gravatar.com/avatar/20571f32acd27d2cf5f1b1f42ea1a75b?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">George Opritescu</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1546">January 22, 2016 at 4:33 pm</a>		</div>

		<p>Hi Igor, when I tried running the code with server: &#8220;phantomjs&#8221;, I kept receiving this error: </p>
<p>** (exit) exited in: GenServer.call(Hound.SessionServer, {:change_session, #PID, :default, %{}}, 60000)<br>
** (EXIT) an exception was raised:<br>
** (MatchError) no match of right hand side value: {:error, %HTTPoison.Error{id: nil, reason: :econnrefused}}<br>
(hound) lib/hound/request_utils.ex:45: Hound.RequestUtils.send_req/4<br>
(hound) lib/hound/session_server.ex:67: Hound.SessionServer.handle_call/3<br>
(stdlib) gen_server.erl:629: :gen_server.try_handle_call/4<br>
(stdlib) gen_server.erl:661: :gen_server.handle_msg/5<br>
(stdlib) proc_lib.erl:240: :proc_lib.init_p_do_apply/3</p>
<p>Upon adding some IO.inspect statements in hound, I discovered that it needed a driver: &#8220;phantomjs&#8221; instead of the server option. After this change, it was running succesfully on my machine. Thank you for the article!</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1547">
				<div id="div-comment-1547" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?s=32&#038;d=mm&#038;r=pg" srcset="http://2.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn"><a href="/" class="url" rel="ugc">josevalim</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1547">January 22, 2016 at 5:26 pm</a>		</div>

		<p>To be clear, you need both the :server option and to start the driver. ðŸ™‚</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1548">
				<div id="div-comment-1548" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/acbedb8014f65e2f4d44c0ea786ef502?s=32&#038;d=mm&#038;r=pg" srcset="http://1.gravatar.com/avatar/acbedb8014f65e2f4d44c0ea786ef502?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn"><a href="https://brent.is/" class="url" rel="ugc external nofollow">Brent Hargrave</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1548">January 23, 2016 at 8:12 pm</a>		</div>

		<p>I think George meant that the config.exs keyword is &#8220;driver:&#8221; rather than &#8220;server:&#8221;, else Hound will assume selenium is running instead of phantomjs: <a href="https://github.com/HashNuke/hound/blob/8ed2c62c1da001eb0193cd9d3602c23ccddc6651/lib/hound/connection_server.ex#L5-L14" rel="nofollow ugc">https://github.com/HashNuke/hound/blob/8ed2c62c1da001eb0193cd9d3602c23ccddc6651/lib/hound/connection_server.ex#L5-L14</a></p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1549">
				<div id="div-comment-1549" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?s=32&#038;d=mm&#038;r=pg" srcset="http://2.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn"><a href="/" class="url" rel="ugc">josevalim</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1549">January 23, 2016 at 8:23 pm</a>		</div>

		<p>You are both correct, of course! Thank you, I have fixed the article.</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1550">
				<div id="div-comment-1550" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=32&#038;d=mm&#038;r=pg" srcset="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Igor Florian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1550">January 26, 2016 at 3:28 pm</a>		</div>

		<p>Thanks for the feedback guys ðŸ™‚</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1551">
				<div id="div-comment-1551" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/51ef444762ee93d2e95b5ba8f3cfbe15?s=32&#038;d=mm&#038;r=pg" srcset="http://2.gravatar.com/avatar/51ef444762ee93d2e95b5ba8f3cfbe15?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">gorodetsky</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1551">January 28, 2016 at 11:52 am</a>		</div>

		<p>Great post!! I think the correct extenation for `test/support/integration_case` should be `ex` and not `exs`</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1552">
				<div id="div-comment-1552" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://2.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?s=32&#038;d=mm&#038;r=pg" srcset="http://2.gravatar.com/avatar/e837f6b7fd146ab16ed3d663476c063e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn"><a href="/" class="url" rel="ugc">josevalim</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1552">January 28, 2016 at 12:34 pm</a>		</div>

		<p>You are correct, it has been fixed!</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1554">
				<div id="div-comment-1554" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/d2a91e55e6c6a77f6e892783cdc89aff?s=32&#038;d=mm&#038;r=pg" srcset="http://1.gravatar.com/avatar/d2a91e55e6c6a77f6e892783cdc89aff?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">SamuelMV</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1554">January 30, 2016 at 10:09 am</a>		</div>

		<p>Interesting, but I&#8217;d prefer a more declarative way to define the acceptance tests. Maybe I&#8217;m too used to Cucumber for ATDD and BDD &#8230; but I&#8217;m thinking in write my tests in Cucumber with steps implementation in ruby or javascript (nodejs).</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1557">
				<div id="div-comment-1557" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=32&#038;d=mm&#038;r=pg" srcset="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Igor Florian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1557">February 1, 2016 at 11:18 am</a>		</div>

		<p>That&#8217;s cool! </p>
<p>I have a good feeling that these tools will evolve nicely. A thing that makes me believe that is the possibility of running async test using database (with Ecto). I believe that this will have a good impact on our test performance.</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1563">
				<div id="div-comment-1563" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/43334005dba05c3bbaa0a111468a96d1?s=32&#038;d=mm&#038;r=pg" srcset="http://1.gravatar.com/avatar/43334005dba05c3bbaa0a111468a96d1?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Sharath Kumar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1563">February 17, 2016 at 2:24 am</a>		</div>

		<p>hi Igor, I followed the steps as specified in this article. but i am getting this error.</p>
<p>&#8230;<br>
1) test GET / (HelloPhoenix.SampleTest)<br>
test/sample_test.exs:10<br>
** (exit) exited in: GenServer.call(Hound.SessionServer, {:change_session, #PID, :default, %{}}, 60000)<br>
** (EXIT) an exception was raised:<br>
** (MatchError) no match of right hand side value: {:error, %HTTPoison.Error{id: nil, reason: :econnrefused}}<br>
(hound) lib/hound/request_utils.ex:43: Hound.RequestUtils.send_req/4<br>
(hound) lib/hound/session_server.ex:67: Hound.SessionServer.handle_call/3<br>
(stdlib) gen_server.erl:629: :gen_server.try_handle_call/4<br>
(stdlib) gen_server.erl:661: :gen_server.handle_msg/5<br>
(stdlib) proc_lib.erl:240: :proc_lib.init_p_do_apply/3</p>
<p>stacktrace:<br>
(elixir) lib/gen_server.ex:564: GenServer.call/3<br>
test/sample_test.exs:8: HelloPhoenix.SampleTest.__ex_unit_setup_1/1<br>
test/sample_test.exs:1: HelloPhoenix.SampleTest.__ex_unit__/2</p>
<p>12:48:24.548 [error] GenServer Hound.SessionServer terminating</p>
<p>** (MatchError) no match of right hand side value: {:error, %HTTPoison.Error{id: nil, reason: :econnrefused}}<br>
(hound) lib/hound/request_utils.ex:43: Hound.RequestUtils.send_req/4<br>
(hound) lib/hound/session_server.ex:67: Hound.SessionServer.handle_call/3<br>
(stdlib) gen_server.erl:629: :gen_server.try_handle_call/4<br>
(stdlib) gen_server.erl:661: :gen_server.handle_msg/5<br>
(stdlib) proc_lib.erl:240: :proc_lib.init_p_do_apply/3<br>
.<br>
Finished in 1.2 seconds (1.0s on load, 0.1s on tests)</p>
<p>5 tests, 1 failure<br>
Randomized with seed 358869</p>
<p>I am running selenium server using a docker container. I get the message as selenium up and running in that terminal.<br>
Then what might be the problem?? Please help. I cannot understand the error message</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1564">
				<div id="div-comment-1564" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=32&#038;d=mm&#038;r=pg" srcset="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Igor Florian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1564">February 17, 2016 at 11:08 am</a>		</div>

		<p>Hey Sharath o</p>
<p>It looks like your driver isn&#8217;t started. Maybe it&#8217;s because you&#8217;re starting it in docker and you have a different port for it. </p>
<p>Try to pass the port you&#8217;re using in your config file:</p>
<p>config :hound, driver: &#8220;selenium&#8221;, port: 5555</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1565">
				<div id="div-comment-1565" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=32&#038;d=mm&#038;r=pg" srcset="http://0.gravatar.com/avatar/30fd512d9f55a8fcfc970c5d7cdcb20e?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Igor Florian</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1565">February 17, 2016 at 11:43 am</a>		</div>

		<p>Actually this could not be your solution, it looks like a session change problem.</p>
<p>@sharathkumar3011:disqus, could you share your test file in a gist?</p>

		
				</div>
				</li>
<!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1566">
				<div id="div-comment-1566" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="http://1.gravatar.com/avatar/43334005dba05c3bbaa0a111468a96d1?s=32&#038;d=mm&#038;r=pg" srcset="http://1.gravatar.com/avatar/43334005dba05c3bbaa0a111468a96d1?s=64&#038;d=mm&#038;r=pg 2x" class="avatar avatar-32 photo" height="32" width="32" loading="lazy" decoding="async">			<cite class="fn">Sharath Kumar</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="/2016/01/writing-acceptance-tests-in-phoenix/comment-page-1/#comment-1566">February 18, 2016 at 2:34 am</a>		</div>

		<p>@disqus_TKggmR6uN0:disqus Thanks for your reply. i have shared my test file and config file with this link. <a href="https://gist.github.com/sharathkumar3011/70d393fc35063ce06574" rel="nofollow ugc">https://gist.github.com/sharathkumar3011/70d393fc35063ce06574</a> . Even if i start the selenium webdriver with &#8216; java -jar selenium-server-standalone-2.51.0.jar &#8216; command, I get same error.</p>

		
				</div>
				</li>
<!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

        </div>

        <div class="pagination-section">
          <a href="/2016/01/how-to-do-remote-meetings-effectively/" rel="prev">How to do remote meetings effectively</a>          <a href="/2016/01/power-of-the-metrics-dont-use-average-to-forecast-deadlines/" rel="next">Power of the metrics: Don&#8217;t use average to forecast deadlines</a>        </div>
        </div>
  <aside class="sidebar-container">
  <div class="sidebar-box sidebar-box-divider">
    <ul class="social-links">
      <li><a href="/feed/" class="social-link rss-link" title="Subscribe to our RSS" target="_blank">Subscribe to our RSS</a></li>
      <li><a href="http://twitter.com/plataformatec" class="social-link twitter-link" title="Follow us on Twitter" target="_blank">@plataformatec</a></li>
      <li><a href="https://github.com/plataformatec" class="social-link github-link" title="Check our code at GitHub" target="_blank">Plataformatec @ GitHub</a></li>
      <li><a href="http://facebook.com/plataformatec.com.br" class="social-link facebook-link" title="Check our Facebook page" target="_blank">Plataformatec @ Facebook</a></li>
      <li><a href="http://www.linkedin.com/company/plataformatec" class="social-link linkedin-link" title="Check our LinkedIn page" target="_blank">Plataformatec @ LinkedIn</a></li>
    </ul>
  </div>

  <div class="sidebar-box sidebar-box-divider">
    This is the company blog of <strong>Plataformatec</strong>, a software development and
    consultancy company, specialized in Elixir, Ruby and Agile.
  </div>

  <div class="sidebar-box">
    <ul class="post-list">
      <li class="post-list-item">
<a href="/category/english">Posts in english</a> (107)</li>
      <li class="post-list-item">
<a href="/category/portugues">Posts em portuguÃªs</a> (33)</li>
    </ul>
  </div>

  <div class="sidebar-box">
    <h3 class="sidebar-title">Recent Posts</h3>

    <ul class="post-list">
                    <li class="post-list-item">
          <a href="/2020/01/important-information-about-our-elixir-and-ruby-open-source-projects/">Important information about our Elixir and Ruby Open Source projects</a>
        </li>
              <li class="post-list-item">
          <a href="/2020/01/elixir-what-about-tests/">Elixir: What about tests?</a>
        </li>
              <li class="post-list-item">
          <a href="/2019/12/okr-licoes-aprendidas-para-voce-comecar-a-aplica-lo-de-forma-efetiva/">OKR: liÃ§Ãµes aprendidas para vocÃª comeÃ§ar a aplicÃ¡-lo de forma efetiva</a>
        </li>
              <li class="post-list-item">
          <a href="/2019/11/divida-tecnica-por-que-fazer-quando-fazer-e-como-priorizar/">DÃ­vida tÃ©cnica: Por que fazer, quando fazer e como priorizar</a>
        </li>
              <li class="post-list-item">
          <a href="/2019/11/relation-between-story-points-and-development-time-lead-time/">Relation between Story Points and Development Time (Lead Time)</a>
        </li>
          </ul>
  </div>

  <div class="sidebar-box">
    <h3 class="sidebar-title">Read more about</h3>

    <ul class="post-list">
      <li class="post-list-item"><a href="/tag/open-source">Open Source</a></li>
      <li class="post-list-item"><a href="/tag/front-end">Front end</a></li>
      <li class="post-list-item"><a href="/tag/conference">Conferences</a></li>
      <li class="post-list-item"><a href="/tag/security-fix">Security fixes</a></li>
    </ul>
  </div>

  <div class="sidebar-box">
    <h3 class="sidebar-title">Check our product</h3>
    <a class="sidebar-cta-link" href="https://sourcelevel.io/">
      <img src="/wp-content/themes/ptec/assets/sourcelevel-300.png" width="300" alt="SourceLevel - Analytics for Engineering Ops">
	</a>

    <p align="center">Analytics for Engineering Ops.</p>
  </div>

</aside>
      <footer class="site-footer">
        <p>
          <span class="footer-copy">Â© 2009- 2024 Plataformatec. All rights reserved.</span>

          <a href="http://plataformatec.com.br/">Our site</a> Â·
          <a href="http://plataformatec.com.br/contact">Contact us</a> Â·
          <a href="http://twitter.com/plataformatec">@plataformatec</a>
        </p>
      </footer>
    </div>
    <script type="text/javascript" src="/wp-content/themes/ptec/application.js?ver=6.4.2" id="application-js"></script>
  </body>
</html>