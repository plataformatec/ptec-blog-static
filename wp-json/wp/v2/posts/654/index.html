{"id":654,"date":"2010-01-18T15:50:25","date_gmt":"2010-01-18T17:50:25","guid":{"rendered":"http:\/\/blog.plataformatec.com.br\/?p=654"},"modified":"2010-01-18T17:39:27","modified_gmt":"2010-01-18T19:39:27","slug":"discovering-rails-3-generators","status":"publish","type":"post","link":"https:\/\/blog.plataformatec.com.br\/2010\/01\/discovering-rails-3-generators\/","title":{"rendered":"Discovering Rails 3 generators"},"content":{"rendered":"<p>This weekend during <a href=\"http:\/\/bugmash.com\/\" target=\"_blank\">Rails Bugmash<\/a> I stumbled across some nice posts about Rails 3 generators which motivated me to share them and add some comments!<\/p>\n<p>First, David Trasbo wrote a nice guide about how to <a href=\"http:\/\/caffeinedd.com\/guides\/331-making-generators-for-rails-3-with-thor\">make your first Rails 3 generator<\/a>, it covers up all the basic steps including setting it up in a gem. He also puts the deserved attention into <a href=\"http:\/\/rdoc.info\/rdoc\/wycats\/thor\/blob\/f939a3e8a854616784cac1dcff04ef4f3ee5f7ff\/Thor\/Actions.html\" target=\"_blank\"><code>Thor::Actions<\/code><\/a>, which contains most helpers you need in a generator, like <code>copy_file<\/code>, <code>template<\/code>, <code>create_file<\/code>, <code>empty_directory<\/code> and so on.<\/p>\n<p>On another post, Ben Scofield talks about <code>apply<\/code> method, which is also in <a href=\"http:\/\/rdoc.info\/rdoc\/wycats\/thor\/blob\/f939a3e8a854616784cac1dcff04ef4f3ee5f7ff\/Thor\/Actions.html\" target=\"_blank\"><code>Thor::Actions<\/code><\/a>, and <a href=\"http:\/\/benscofield.com\/2009\/09\/application-templates-in-rails-3\/\">how to use it to dry your application templates<\/a>.<\/p>\n<p>Wait&#8230; so <a href=\"http:\/\/rdoc.info\/rdoc\/wycats\/thor\/blob\/f939a3e8a854616784cac1dcff04ef4f3ee5f7ff\/Thor\/Actions.html\" target=\"_blank\"><code>Thor::Actions<\/code><\/a> is used both in generators and in Rails application templates? Exactly, Rails&#8217; new generators <strong>unifies both application templates and generators API into one<\/strong>. While <a href=\"http:\/\/rdoc.info\/rdoc\/wycats\/thor\/blob\/f939a3e8a854616784cac1dcff04ef4f3ee5f7ff\/Thor\/Actions.html\" target=\"_blank\"><code>Thor::Actions<\/code><\/a> holds basic methods, all Rails specific methods like <code>environment<\/code>, <code>rakefile<\/code>, <code>generator<\/code> are in <a href=\"http:\/\/github.com\/rails\/rails\/tree\/master\/railties\/lib\/rails\/generators\/actions.rb\">Rails::Generators::Actions<\/a>. If you already wrote an application template, you will feel more at home when writing a Rails 3 generator.<\/p>\n<p>Paul Barry talks <a href=\"http:\/\/paulbarry.com\/articles\/2010\/01\/13\/customizing-generators-in-rails-3\" target=\"_blank\">how easy it&#8217;s to customize your scaffold<\/a> to use Rspec, Haml and Factory Girl instead of Test::Unit, Erb and Fixtures. This all works because <strong>scaffold is just a meta generator which provides hooks<\/strong> for template engine, test framework, ORM and so forth. A good way to see the hooks system working is by running <code>script\/generate scaffold --help<\/code> before and after Paul changes, so you can see exactly how generators options update depending on the configuration values you set. While I wrote Rspec generators used in the example, he implemented himself Haml and Factory Girl generators and they can all be used as example if you plan to build your own.<\/p>\n<p>Finally, Zigzag Chen wrote about <a href=\"http:\/\/zigzag.github.com\/2010\/01\/18\/customizing-your-scaffold-template-become-easier-in-rails3.html\">templates customization<\/a> and how you can change your scaffold controller to use json instead of the xml format. New generators have source paths, so <strong>you can customize them simply by copying files to RAILS_ROOT\/lib\/templates<\/strong>.<\/p>\n<p><a href=\"http:\/\/bugmash.com\/\" target=\"_blank\">Rails Bugmash<\/a> was excellent to gather feedback and we also got some tickets on Lighthouse, mainly about how generators help can be improved for people starting with Rails. Many thanks to <a href=\"http:\/\/www.railsbridge.org\/\">Rails Bridge<\/a> and besides the posts linked above, there is <a href=\"http:\/\/guides.rails.info\/generators.html\" target=\"_blank\">a generator guide<\/a>, which may help you get started and maybe write your own post as well. \ud83d\ude42<\/p>\n","protected":false},"excerpt":{"rendered":"<p>This weekend during Rails Bugmash I stumbled across some nice posts about Rails 3 generators which motivated me to share them and add some comments! First, David Trasbo wrote a nice guide about how to make your first Rails 3 generator, it covers up all the basic steps including setting it up in a gem. &#8230; <a class=\"read-more-link\" href=\"https:\/\/blog.plataformatec.com.br\/2010\/01\/discovering-rails-3-generators\/\">\u00bb<\/a><\/p>\n","protected":false},"author":4,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"ngg_post_thumbnail":0,"footnotes":""},"categories":[1],"tags":[67,10,23,7,60,9],"aioseo_notices":[],"jetpack_sharing_enabled":true,"jetpack_featured_media_url":"","_links":{"self":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/654"}],"collection":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/comments?post=654"}],"version-history":[{"count":10,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/654\/revisions"}],"predecessor-version":[{"id":668,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/654\/revisions\/668"}],"wp:attachment":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/media?parent=654"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/categories?post=654"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/tags?post=654"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}