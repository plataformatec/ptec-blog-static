{"id":2051,"date":"2011-05-18T14:10:22","date_gmt":"2011-05-18T17:10:22","guid":{"rendered":"http:\/\/blog.plataformatec.com.br\/?p=2051"},"modified":"2011-05-18T14:18:33","modified_gmt":"2011-05-18T17:18:33","slug":"simpleform-1-4-is-out","status":"publish","type":"post","link":"https:\/\/blog.plataformatec.com.br\/2011\/05\/simpleform-1-4-is-out\/","title":{"rendered":"SimpleForm 1.4 is out"},"content":{"rendered":"<p>I&#8217;m pleased to say that we released <a href=\"https:\/\/github.com\/plataformatec\/simple_form\">SimpleForm 1.4<\/a>. Like the last version, this release had a lot of contributions from the community, closing bugs and adding some nice features. Here is a brief introduction to some of the new features:<\/p>\n<h3>Custom Form Builders<\/h3>\n<p>Now you can set a custom form builder\u00a0that inherits from <code>SimpleForm::FormBuilder<\/code>:<\/p>\n<pre lang=\"ruby\">class CustomBuilder < SimpleForm::FormBuilder\r\n  def input(attribute_name, options={}, &#038;block)\r\n    options[:input_html].merge! :class => 'custom'\r\n    super\r\n  end\r\nend<\/pre>\n<p>And use it straight in the <code>simple_form_for<\/code> helper, like the example below:<\/p>\n<pre lang=\"ruby\"><%= simple_form_for(@user, :builder => CustomBuilder) do |f| %>\r\n  <%= f.input :name %>\r\n<% end %><\/pre>\n<h3>Custom Inputs<\/h3>\n<p>SimpleForm has many different inputs available in its source code. But, sometimes, depending on the business logic the application requires, we need to add new inputs to make our work easier. Before this version, you had to explicitly define your new input inside SimpleForm namespace for it to work. Furthermore, customizing existing SimpleForm inputs could only be achieved through monkey patching.<\/p>\n<p>Inspired by a similar feature in the <a href=\"https:\/\/github.com\/justinfrench\/formtastic\">Formtastic<\/a> gem, from now on you will be able to create new input types inside <code>app\/inputs<\/code> folder in your application. The only restriction to create such inputs is that the class name must end with <code>Input<\/code>. See some examples:<\/p>\n<pre lang=\"ruby\"># app\/inputs\/currency_input.rb\r\nclass CurrencyInput < SimpleForm::Inputs::StringInput\r\n  def input\r\n    \"$ #{super}\".html_safe\r\n  end\r\nend<\/pre>\n<p>And the usage:<\/p>\n<pre lang=\"ruby\">f.input :money, :as => :currency<\/pre>\n<p>You can also redefine existing SimpleForm inputs by creating a new class with the same name. For instance, if you want to wrap date\/time\/datetime inputs in a div, you can do:<\/p>\n<pre lang=\"ruby\"># app\/inputs\/date_time_input.rb\r\nclass DateTimeInput < SimpleForm::Inputs::DateTimeInput\r\n  def input\r\n    \"<div>#{super}<\/div>\".html_safe\r\n  end\r\nend<\/pre>\n<h3>HTML 5<\/h3>\n<p>SimpleForm allows you to add many HTML 5 features to your applications, like placeholders, inline browser validations and more. The problem is: most browsers are still experimenting some HTML 5 features, and people started having\u00a0lots of troubles with the automatic browser validation.<\/p>\n<p>For this reason, SimpleForm now has an option to easily disable such form validations. You have to add this line to your SimpleForm initializer:<\/p>\n<pre lang=\"ruby\">config.browser_validations\u00a0=\u00a0false<\/pre>\n<p>But, if HTML 5 is still not for you, you can disable all the HTML 5 stuff, by adding the configuration below to your initializer:<\/p>\n<pre lang=\"ruby\">config.html5\u00a0=\u00a0false<\/pre>\n<p>Notice that this option does not disable the `placeholder` component, because we believe this option is very well supported currently in mostly browsers. If you don't want to use it as well, just remove it from the `components` option in your initializer.<\/p>\n<h3>More Helpers<\/h3>\n<p>In this version we also add two new form helpers to SimpleForm: <code>input_field<\/code> and <code>full_error<\/code>.<\/p>\n<p>The <code>full_error<\/code> helper shows errors in an attribute prepending its human name. This can be used when you want to show errors on hidden fields, for instance. You can see how it works in this example:<\/p>\n<pre lang=\"ruby\">f.full_error :token #=> <span class=\"error\">Token is invalid<\/span><\/pre>\n<p>The <code>input_field<\/code> helper renders only the input tag with all the facilities of SimpleForm's input helper. It means no wrapper, error or hint will be rendered. A good example of using this helper is inside an input block:<\/p>\n<pre lang=\"ruby\"><%= f.input :max_time, :as => :integer do %>\r\n  <%= f.input_field :max_time, :as => :integer, :type => :range %>\r\n  <%= content_tag :span, '1', :id => 'max_time_value' %>\r\n<% end %><\/pre>\n<p>It will render:<\/p>\n<pre lang=\"html\">\r\n<div class=\"input integer required\">\r\n\u00a0 <label class=\"integer required for=\"model_max_time\">Max time <abbr title=\"required\">*<\/abbr><\/label>\r\n  <input class=\"numeric integer required\" id=\"model_max_time\" name=\"model[max_time]\" required=\"required\" size=\"50\" type=\"range\" \/>\r\n  <span id=\"max_time_value\">1<\/span>\r\n<\/div>\r\n<\/pre>\n<h3>Wrapping up<\/h3>\n<p>This version allows you to do more customizations in SimpleForm based on your applications needs. We encourage you to take a look at the\u00a0<a title=\"SimpleForm Changelog\" href=\"https:\/\/github.com\/plataformatec\/simple_form\/blob\/master\/CHANGELOG.rdoc\">CHANGELOG<\/a> and also review the\u00a0<a title=\"SimpleForm Readme\" href=\"https:\/\/github.com\/plataformatec\/simple_form\/blob\/master\/README.rdoc\">README<\/a> to see what else is available and some more examples.<\/p>\n<p>And please, check out\u00a0<a title=\"SimpleForm contributors\" href=\"https:\/\/github.com\/plataformatec\/simple_form\/contributors\">SimpleForm contributors<\/a>, we want to thank everyone who is helping us to improve SimpleForm.<\/p>\n<p>Right now, we are working on Rails 3.1 compatibility for the next version. If you feel like helping us or just want to see a new feature, feel free to send us a pull request. And last, but not least, we look forward to know how SimpleForm is changing your life. Is it being helpful? How does it improve your applications? Don't be shy, comments are welcome.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>I&#8217;m pleased to say that we released SimpleForm 1.4. Like the last version, this release had a lot of contributions from the community, closing bugs and adding some nice features. Here is a brief introduction to some of the new features: Custom Form Builders Now you can set a custom form builder\u00a0that inherits from SimpleForm::FormBuilder: &#8230; <a class=\"read-more-link\" href=\"https:\/\/blog.plataformatec.com.br\/2011\/05\/simpleform-1-4-is-out\/\">\u00bb<\/a><\/p>\n","protected":false},"author":15,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"ngg_post_thumbnail":0,"footnotes":""},"categories":[1],"tags":[82,67,125,92,115,105],"aioseo_notices":[],"jetpack_sharing_enabled":true,"jetpack_featured_media_url":"","_links":{"self":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/2051"}],"collection":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/users\/15"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/comments?post=2051"}],"version-history":[{"count":39,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/2051\/revisions"}],"predecessor-version":[{"id":2098,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/2051\/revisions\/2098"}],"wp:attachment":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/media?parent=2051"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/categories?post=2051"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/tags?post=2051"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}