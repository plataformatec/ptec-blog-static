{"id":2469,"date":"2012-02-23T14:54:25","date_gmt":"2012-02-23T16:54:25","guid":{"rendered":"http:\/\/blog.plataformatec.com.br\/?p=2469"},"modified":"2012-03-08T10:04:02","modified_gmt":"2012-03-08T13:04:02","slug":"simpleform-2-0-bootstrap-for-you-with-love","status":"publish","type":"post","link":"https:\/\/blog.plataformatec.com.br\/2012\/02\/simpleform-2-0-bootstrap-for-you-with-love\/","title":{"rendered":"SimpleForm 2.0 + Bootstrap: for you with love"},"content":{"rendered":"<p>The Carnival is over in Brazil but we are still partying at Plataformatec by bringing you a complete new release of SimpleForm. This time is not a small bump though, it&#8217;s a shiny new version: <a href=\"https:\/\/github.com\/plataformatec\/simple_form\" title=\"SimpleForm\">SimpleForm 2.0<\/a>, that comes with a bunch of new features and customizations, a new wrapper API to create custom input stacks and a great integration with <a href=\"http:\/\/twitter.github.com\/bootstrap\" title=\"Twitter Bootstrap\">Twitter Bootstrap<\/a>.<\/p>\n<h3>Wrappers API<\/h3>\n<p>The new wrappers API is here in place of the old <code>components<\/code> option (besides some other *_tag and *_class configs), to add more flexibility to the way you build SimpleForm inputs. Here is an example of the default wrapper config that ships with SimpleForm when you run its install generator:<\/p>\n<pre lang=\"ruby\">\r\nconfig.wrappers :default, :class => :input,\r\n  :hint_class => :field_with_hint, :error_class => :field_with_errors do |b|\r\n  ## Extensions enabled by default\r\n  # Any of these extensions can be disabled for a\r\n  # given input by passing: `f.input EXTENSION_NAME => false`.\r\n  # You can make any of these extensions optional by\r\n  # renaming `b.use` to `b.optional`.\r\n\r\n  # Determines whether to use HTML5 (:email, :url, ...)\r\n  # and required attributes\r\n  b.use :html5\r\n\r\n  # Calculates placeholders automatically from I18n\r\n  # You can also pass a string as f.input :placeholder => \"Placeholder\"\r\n  b.use :placeholder\r\n\r\n  ## Optional extensions\r\n  # They are disabled unless you pass `f.input EXTENSION_NAME => :lookup`\r\n  # to the input. If so, they will retrieve the values from the model\r\n  # if any exists. If you want to enable the lookup for any of those\r\n  # extensions by default, you can change `b.optional` to `b.use`.\r\n\r\n  # Calculates maxlength from length validations for string inputs\r\n  b.optional :maxlength\r\n\r\n  # Calculates pattern from format validations for string inputs\r\n  b.optional :pattern\r\n\r\n  # Calculates min and max from length validations for numeric inputs\r\n  b.optional :min_max\r\n\r\n  # Calculates readonly automatically from readonly attributes\r\n  b.optional :readonly\r\n\r\n  ## Inputs\r\n  b.use :label_input\r\n  b.use :hint,  :wrap_with => { :tag => :span, :class => :hint }\r\n  b.use :error, :wrap_with => { :tag => :span, :class => :error }\r\nend\r\n<\/pre>\n<p>Wrappers are used by the form builder to generate a complete input. You can remove any component from the wrapper, change the order or even add your own to the stack.<\/p>\n<p>The <code>:default<\/code> wrapper is going to be used in all forms by default. You can also select which wrapper to use per form, by naming them:<\/p>\n<pre lang=\"ruby\">\r\n# Given you added this wrapper in your SimpleForm initializer:\r\nconfig.wrappers :small do |b|\r\n  b.use :placeholder\r\n  b.use :label_input\r\nend\r\n\r\n# Uses the :small wrapper for all inputs in this form.\r\nsimple_form_for @user, :wrapper => :small do |f|\r\n  f.input :name\r\nend\r\n<\/pre>\n<p>Or you can just pick a different wrapper in a specific input if you want:<\/p>\n<pre lang=\"ruby\">\r\n# Uses the default wrapper for other inputs, and :small for :name.\r\nsimple_form_for @user do |f|\r\n  f.input :name, :wrapper => :small\r\nend\r\n<\/pre>\n<p>You can see a more detailed description of the new <a href=\"http:\/\/simple-form.plataformatec.com.br\/#configuration\/the-wrappers-api\" title=\"SimpleForm 2.0 wrappers API docs\">wrappers API in the documentation<\/a>.<\/p>\n<h3>Twitter Bootstrap<\/h3>\n<p>The second big change in SimpleForm 2.0 is out of the box Bootstrap integration. SimpleForm now ships with a generator option to initialize your application with a set of specific wrappers customized for Bootstrap. To get them, just run in your terminal, inside a Rails application (with SimpleForm already installed):<\/p>\n<pre>\r\nrails generate simple_form:install --bootstrap\r\n<\/pre>\n<p>This gives you the default SimpleForm initializer in <code>config\/initializers\/simple_form.rb<\/code> with some extra integration code added for Bootstrap. For example, here is the default wrapper:<\/p>\n<pre lang=\"ruby\">\r\nconfig.wrappers :bootstrap, :tag => 'div', :class => 'control-group', \r\n  :error_class => 'error' do |b|\r\n  b.use :placeholder\r\n  b.use :label\r\n  b.wrapper :tag => 'div', :class => 'controls' do |ba|\r\n    ba.use :input\r\n    ba.use :error, :wrap_with => { :tag => 'span', :class => 'help-inline' }\r\n    ba.use :hint,  :wrap_with => { :tag => 'p', :class => 'help-block' }\r\n  end\r\nend\r\n<\/pre>\n<p>This wrapper is setup with the same structure that Bootstrap expects and is set to be the default wrapper in your application. This is <strong>the killer feature in SimpleForm 2.0<\/strong>: the Bootstrap integration is not inside SimpleForm but all in your application. This means that, if you want to move away or customize Bootstrap in the future, you don&#8217;t need to monkey patch SimpleForm, everything is in your app!<\/p>\n<p>We&#8217;ve set up a <a href=\"http:\/\/simple-form-bootstrap.plataformatec.com.br\/articles\/new\" title=\"SimpleForm Bootstrap example application\">live example application showing most of the SimpleForm inputs integrated with Twitter Bootstrap<\/a>, make sure you check it out! The <a href=\"https:\/\/github.com\/rafaelfranca\/simple_form-bootstrap\" title=\"SimpleForm Bootstrap example application code\">application code is on github<\/a>.<\/p>\n<p>Keep reading this blog post to find out the other changes and deprecations that gave SimpleForm all this extra flexibility, allowing it to be easily integrated with Twitter Bootstrap 2.0. <\/p>\n<h3>New configs<\/h3>\n<p>SimpleForm 2.0 comes with some new configs to ease its integration with Bootstrap and to make your daily work even more flexible:<\/p>\n<ul>\n<li><code>default_wrapper<\/code>: defines the default wrapper to be used when no one is given.<\/li>\n<li><code>button_class<\/code>: defines a class to add for all buttons.<\/li>\n<li><code>boolean_style<\/code>: change the way booleans (mainly check boxes and radio buttons) are shown: <code>:inline<\/code> (the default) uses the same structure as before, checkbox + label; <code>:nested<\/code> (generated for new apps) puts the checkbox inside the label, as label > checkbox.<\/li>\n<li><code>collection_wrapper_class<\/code>: class to add in all collections (check boxes \/ radio buttons), given <code>collection_wrapper_tag<\/code> is set.<\/li>\n<li><code>item_wrapper_class<\/code>: class to add to all items in a collection.<\/li>\n<li><code>generate_additional_classes_for<\/code>: allows you to specify whether to generate the extra css classes for inputs, labels and wrappers. By default SimpleForm always generate all classes, such as input type and required info, to all of them. You can be more selective and tell SimpleForm to just add such classes to the input or wrapper, by changing this config.<\/li>\n<\/ul>\n<h3>Deprecations<\/h3>\n<p>In order to create the new wrappers API, we had to deprecate some configs and change some helpers, so here is a basic summary of what is being deprecated:<\/p>\n<h4>Configs<\/h4>\n<ul>\n<li><code>translate<\/code>: By making <code>placeholder<\/code> and <code>hint<\/code> <code>optional<\/code> options in the wrappers API, you can already disable the automatic translation attempt that happens for these components. <code>labels<\/code>, on the other hand, are always used in forms, so we added a special config for them: <code>translate_labels<\/code>.<\/li>\n<li><code>html5<\/code>: this config is now part of the wrappers API, with <code>b.use :html5<\/code>, so the config option has been deprecated.<\/li>\n<li><code>error_notification_id<\/code>: in favor of using <code>error_notification_class<\/code> only.<\/li>\n<li><code>wrapper_tag=, wrapper_class=, wrapper_error_class=, error_tag=, error_class=, hint_tag=, hint_class=, components=<\/code>: all these were moved to the wrappers API structure, and are not required anymore.<\/li>\n<\/ul>\n<h4>Helpers<\/h4>\n<ul>\n<li><code>:radio<\/code> input type: In order to integrate with Bootstrap, we had to get rid of the <code>:as => :radio<\/code> and use <code>:as => :radio_buttons<\/code> instead. The former still works, but will give you a bunch of deprecation warnings. CSS class names changed accordingly as well<\/li>\n<li><code>collection_radio<\/code>: has changed to <code>collection_radio_buttons<\/code> to follow the <code>:as => :radio_buttons<\/code> change. Its label class has changed as well based on the helper name.<\/li>\n<\/ul>\n<h3>Wrapping up<\/h3>\n<p>SimpleForm 2.0 comes with a lot of new features, in special the new wrappers API, to make it flexible enough to allow you to customize inputs as much as possible in an easier way, and to bring you the integrated Bootstrap structure.<\/p>\n<p>Make sure you check out the new <a href=\"http:\/\/simple-form.plataformatec.com.br\" title=\"SimpleForm README\">SimpleForm README<\/a> and also the <a href=\"https:\/\/github.com\/plataformatec\/simple_form\/blob\/master\/CHANGELOG.md\" title=\"SimpleForm CHANGELOG\">CHANGELOG<\/a> for a full list of changes. We&#8217;ve also created an special wiki page to help you <a href=\"https:\/\/github.com\/plataformatec\/simple_form\/wiki\/Upgrading-to-Simple-Form-2.0\" title=\"Upgrading to SimpleForm 2.0\">Upgrading to SimpleForm 2.0<\/a>. <\/p>\n<p>If you find any trouble while migrating to 2.0, or any issue with Bootstrap integration, or any other issue, please let us know in the <a href=\"https:\/\/github.com\/plataformatec\/simple_form\/issues\" title=\"SimpleForm issues tracker\">issues tracker<\/a>. And if you have any questions, make sure to send them to the <a href=\"http:\/\/groups.google.com\/group\/plataformatec-simpleform\" title=\"SimpleForm mailing list\">mailing list<\/a>, there are a lot of people there to help you.<\/p>\n<p>All our development team and an <a href=\"https:\/\/github.com\/plataformatec\/simple_form\/contributors\" title=\"SimpleForm contributors\">amazing number of contributors<\/a> put a lot of effort into this new release and we hope you will enjoy it. SimpleForm 2.0 + Bootstrap: from us, for you, with love.<\/p>\n<p>Thoughts about SimpleForm 2.0? Please let us know in the comments.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>The Carnival is over in Brazil but we are still partying at Plataformatec by bringing you, not a small bump, but a shiny new version: Simple Form 2.0. Simple Form 2.0 features a new wrapper API which makes it very flexible and easy to integrate with CSS frameworks like Twitter Bootstrap. <\/p>\n","protected":false},"author":15,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"ngg_post_thumbnail":0,"footnotes":""},"categories":[1],"tags":[82,67,92,7,105,175],"aioseo_notices":[],"jetpack_sharing_enabled":true,"jetpack_featured_media_url":"","_links":{"self":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/2469"}],"collection":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/users\/15"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/comments?post=2469"}],"version-history":[{"count":33,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/2469\/revisions"}],"predecessor-version":[{"id":2583,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/2469\/revisions\/2583"}],"wp:attachment":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/media?parent=2469"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/categories?post=2469"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/tags?post=2469"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}