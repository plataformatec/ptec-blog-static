{"id":803,"date":"2010-02-16T16:18:29","date_gmt":"2010-02-16T18:18:29","guid":{"rendered":"http:\/\/blog.plataformatec.com.br\/?p=803"},"modified":"2010-02-16T16:19:12","modified_gmt":"2010-02-16T18:19:12","slug":"rails-metrics-know-what-is-happening-inside-your-rails-3-application","status":"publish","type":"post","link":"https:\/\/blog.plataformatec.com.br\/2010\/02\/rails-metrics-know-what-is-happening-inside-your-rails-3-application\/","title":{"rendered":"Rails Metrics: know what is happening inside your Rails 3 application"},"content":{"rendered":"<p><a href=\"http:\/\/github.com\/engineyard\/rails_metrics\" target=\"_blank\">RailsMetrics<\/a> is a new Rails engine which stores everything that is happening inside your application in the database, so you can profile each request, besides creating charts, statistics and extract useful information.<\/p>\n<p>I&#8217;ve been working on it for the last couple months in parallel with <a href=\"http:\/\/github.com\/rails\/rails\/tree\/master\/activesupport\/lib\/active_support\/notifications.rb\" target=\"_blank\">ActiveSupport::Notifications<\/a>, which is the foundation for <a href=\"http:\/\/github.com\/engineyard\/rails_metrics\" target=\"_blank\">RailsMetrics<\/a>, and it was open sourced today by <a href=\"http:\/\/www.engineyard.com\/\" target=\"_blank\">Engine Yard<\/a>!<\/p>\n<p>It was a challenging project due to its threaded nature and I will share a couple things I learned during the process in this blog later. For now, you can watch the screencast below to see what it does and how to install it:<\/p>\n<div style=\"text-align:center\"><object width=\"600\" height=\"450\"><param name=\"allowfullscreen\" value=\"true\" \/><param name=\"allowscriptaccess\" value=\"always\" \/><param name=\"movie\" value=\"http:\/\/vimeo.com\/moogaloop.swf?clip_id=9473741&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1\" \/><\/object><\/p>\n<p><a href=\"http:\/\/vimeo.com\/9473741\">Rails Metrics Screencast &#8211; Feb\/2010<\/a> from <a href=\"http:\/\/vimeo.com\/user3182384\">PlataformaTec<\/a> on <a href=\"http:\/\/vimeo.com\">Vimeo<\/a>.<\/p>\n<\/div>\n<p>As said in the video, getting it released is just the first step and now it&#8217;s <strong>your turn to fork and improve it<\/strong> by providing a better layout, creating new reports, charts, etc!<\/p>\n<p>In case you are interested here are some screenshots that I <a href=\"http:\/\/twitter.com\/josevalim\/status\/9138183973\" target=\"_blank\">tweeted<\/a> earlier: <a href=\"http:\/\/twitpic.com\/13e7fn\/full\" target=\"_blank\">http:\/\/twitpic.com\/13e7fn\/full<\/a> and <a href=\"http:\/\/twitpic.com\/13e7h2\/full\" target=\"_blank\">http:\/\/twitpic.com\/13e7h2\/full<\/a>.<\/p>\n<h3>The javascript novell<\/h3>\n<p>A week ago I <a href=\"http:\/\/twitter.com\/josevalim\/status\/8898250204\" target=\"_blank\">asked<\/a> what people uses to create charts in Rails so I could evaluate what would be the best library to use in <a href=\"http:\/\/github.com\/engineyard\/rails_metrics\" target=\"_blank\">RailsMetrics<\/a>. There were three types of libraries: server side ones, flash and javascript. Since I don&#8217;t want to depend on having neither RMagick nor Flash installed on the developer machine, I chose the javascript kind.<\/p>\n<p>After some research I ended up with three libraries: <a href=\"http:\/\/g.raphaeljs.com\/\" target=\"_blank\">g.raphael<\/a>, <a href=\"http:\/\/code.google.com\/p\/flot\/\" target=\"_blank\">flot<\/a> and <a href=\"http:\/\/www.jqplot.com\/\" target=\"_blank\">jqplot<\/a>.<\/p>\n<p>For <a href=\"http:\/\/github.com\/engineyard\/rails_metrics\" target=\"_blank\">RailsMetrics<\/a>, I chose to use <a href=\"http:\/\/g.raphaeljs.com\/\" target=\"_blank\">g.raphael<\/a> since I can easily manipulate the objects it creates and it is the one which looks better (at least imho ;)). However it has poor documentation and the default charts have poor customization options compared to the other two libraries, so you end up tweaking the chart by hand (which was fine in my experience).<\/p>\n<p>I&#8217;m waiting for your pull requests, enjoy!<\/p>\n","protected":false},"excerpt":{"rendered":"<p>RailsMetrics is a new Rails engine which stores everything that is happening inside your application in the database, so you can profile each request, besides creating charts, statistics and extract useful information. I&#8217;ve been working on it for the last couple months in parallel with ActiveSupport::Notifications, which is the foundation for RailsMetrics, and it was &#8230; <a class=\"read-more-link\" href=\"https:\/\/blog.plataformatec.com.br\/2010\/02\/rails-metrics-know-what-is-happening-inside-your-rails-3-application\/\">\u00bb<\/a><\/p>\n","protected":false},"author":4,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"ngg_post_thumbnail":0,"footnotes":""},"categories":[1],"tags":[78,67,77,75,76,7],"aioseo_notices":[],"jetpack_sharing_enabled":true,"jetpack_featured_media_url":"","_links":{"self":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/803"}],"collection":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/users\/4"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/comments?post=803"}],"version-history":[{"count":12,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/803\/revisions"}],"predecessor-version":[{"id":816,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/803\/revisions\/816"}],"wp:attachment":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/media?parent=803"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/categories?post=803"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/tags?post=803"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}