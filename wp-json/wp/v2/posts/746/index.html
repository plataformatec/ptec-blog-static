{"id":746,"date":"2010-02-12T17:05:24","date_gmt":"2010-02-12T19:05:24","guid":{"rendered":"http:\/\/blog.plataformatec.com.br\/?p=746"},"modified":"2010-02-12T17:05:24","modified_gmt":"2010-02-12T19:05:24","slug":"happy-birthday-devise","status":"publish","type":"post","link":"https:\/\/blog.plataformatec.com.br\/2010\/02\/happy-birthday-devise\/","title":{"rendered":"Happy Birthday Devise"},"content":{"rendered":"<p>Today we are celebrating <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>&#8216;s birthday. But wait, if you have started watching <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> since the beginning you may be asking: has <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> already completed one year of life? Nope. Today we are completing exactly 4 months since <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> was <a href=\"http:\/\/blog.plataformatec.com.br\/2009\/10\/thor-e-devise-no-rails-summit-latin-america-2009\/\">released at Rails Summit Latin America 2009<\/a>. And we are very proud and glad to say that we have just reached <a href=\"http:\/\/github.com\/plataformatec\/devise\/commit\/4bfbeea7e6e6f78503abf5b59571a316a7a72158\">version 1.0<\/a>! Yeah! Let&#8217;s celebrate and talk a bit about history.<\/p>\n<h3>The beginning<\/h3>\n<p>We decided to build <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> based on some requirements we had in a project last year. The majority of our projects usually require an admin interface to configure the application with some CRUD information. And in this specific project, we were needing two different roles in the same application, the admin itself with all its powers to manage the application, and the end users that should be signed in to do some stuff inside the application. Usually only one model would be required in this situation, with some &#8220;type&#8221; column or flag to determine if the user is an admin or not, right? Okay, but we didn&#8217;t like this approach that much. So we started looking at some of the possibilities:<\/p>\n<ul>\n<li><strong><a href=\"http:\/\/github.com\/binarylogic\/authlogic\">Authlogic<\/a><\/strong>: a really great piece of code and functionality, but a bit messy by handling the session in a model. It also only handles the model part.<\/li>\n<li><strong><a href=\"http:\/\/github.com\/thoughtbot\/clearance\">Clearance<\/a><\/strong>: full stack, Rails Engine, extra modules, everything we needed. However, packaged with a User model and without the ability to customize it.<\/li>\n<\/ul>\n<p>Okay, we could pick one of these and with a bit of extra work we would achieve our requirements. But would we need to do it every time this situation happens? We said no. It&#8217;s not DRY enough. And we like DRY. So <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> was born.<\/p>\n<p>The main objective of the first <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> version was to get up and running the entire sign in process, including password recovery and confirmation stuff. And everything should work with different roles, which mean you could easily plug and play an Admin, User, Account, or whichever role you needed, in your application, without much effort. And we had a deadline: <a href=\"http:\/\/www.railssummit.com.br\">Rails Summit<\/a>. It took almost 1 month of work before <a href=\"http:\/\/www.railssummit.com.br\">Rails Summit<\/a>. I still remember the days before the event, we putting a lot of effort to have <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> up and running, and the <a href=\"http:\/\/github.com\/plataformatec\/devise\/blob\/master\/README.rdoc\">README<\/a> being written during the event. So, we were ready there and presenting <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> to the world.<\/p>\n<h3>How it works<\/h3>\n<p><a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> was born with the intuit of handling different roles without effort, automatically, and it is achieved with Rails Engines. In addition, <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> is build in top of <a href=\"http:\/\/github.com\/hassox\/warden\">Warden<\/a>, a great rack authentication framework. It allowed us to be flexible enough and add different strategies, hooks, and modules easily. In short, <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>:<\/p>\n<ul>\n<li>Is Rack based;<\/li>\n<li>Is a complete MVC solution based on Rails Engines;<\/li>\n<li>Allows you to have multiple roles (or models\/scopes) signed in at the same time;<\/li>\n<li>Is based on a modularity concept: use just what you really need.<\/li>\n<\/ul>\n<h3>The road so far<\/h3>\n<p><a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> has started with the basic modules needed for that specific application: <\/p>\n<ul>\n<li><strong>Authenticatable<\/strong>: responsible for signing users in through a basic login form, handling password validation and authentication.<\/li>\n<li><strong>Confirmable<\/strong>: manages confirming users account.<\/li>\n<li><strong>Recoverable<\/strong>: handles password recovery.<\/li>\n<li><strong>Validatable<\/strong>: basic email and password validation.<\/li>\n<\/ul>\n<p>Okay, everything we needed were there. Everything else was in a wish list, nicely called TODO. And we decided from the beginning to not add features to <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> until us or somebody else really needed them. But people asked, people needed new features. And they were always there to help, to fork and fix a bug, to comment. We started soon to add new features, the first was:<\/p>\n<ul>\n<li><strong>Rememberable<\/strong>: handles signing users in automatically from cookies.<\/li>\n<\/ul>\n<p>After people were asking for easier ways to create their migrations, so we introduced a new module with <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 0.2:<\/p>\n<ul>\n<li><strong>Migratable<\/strong>: hooks into <a href=\"http:\/\/ar.rubyonrails.org\/\">ActiveRecord<\/a> <a href=\"http:\/\/ar.rubyonrails.org\/classes\/ActiveRecord\/Migration.html\">migrations<\/a> to add helper methods for creating <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> colums. So you can do stuff like <code>t.authenticatable<\/code>, <code>t.confirmable<\/code> and so on.<\/li>\n<\/ul>\n<p>To help people getting up and running faster, we created some generators. Now they are:<\/p>\n<ul>\n<li><code>script\/generate <strong>devise_install<\/code><\/strong>: create devise initializer file to enable some configs and copy default locale file.<\/li>\n<li><code>script\/generate <strong>devise<\/strong> MyModel<\/code>: create a model with setup for <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>, routes and migration.<\/li>\n<li><code>script\/generate <strong>devise_views<\/strong><\/code>: copy all <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> views to your app\/views folder, so you can change it as needed.<\/li>\n<\/ul>\n<p><a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 0.3 and 0.4 came soon after, with a lot of bug fixes in generators, I18n, initialization, some deprecations and a bunch of code refactored.<\/p>\n<p>Contributions from community were coming more and more. The first big contribution came with the addition of encryptors. Nowadays <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> supports encrypting passwords with SHA1, SHA512, and BCrypt. It has also support for using the same encryptors as <a href=\"http:\/\/github.com\/binarylogic\/authlogic\">Authlogic<\/a>, <a href=\"http:\/\/github.com\/thoughtbot\/clearance\">Clearance<\/a> and <a href=\"http:\/\/github.com\/technoweenie\/restful-authentication\">Restful Authentication<\/a>, to help you migrating from these solutions.<\/p>\n<p>At this point we thought: okay, that should be enough. It wasn&#8217;t. People needed different ORMs, other than <a href=\"http:\/\/ar.rubyonrails.org\/\">ActiveRecord<\/a>. So we introduced support to <a href=\"http:\/\/mongomapper.com\/\">MongoMapper<\/a> and then we were reaching <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 0.5.<\/p>\n<p>We were receiving a lot of issues with functional tests, so we introduced some test helpers to help people with the sign in\/out process in this kind of tests called Devise::TestHelper.<\/p>\n<p>As applications grow, more roles may be needed. So we created the possibility to scope your views for each role\/scope in your application. This way your user can have a different sign in view than the admin, for example. Reaching <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 0.6, a lot of improvements on routes and <a href=\"http:\/\/datamapper.org\/\">DataMapper<\/a> support were added.<\/p>\n<p>We were full of nice ideas to add new features, and our TODO was bigger than we like. So we came up with:<\/p>\n<ul>\n<li><strong>Timeoutable<\/strong>: verify each request to timeout the user session after a certain period of inactivity, asking for credentials again.<\/li>\n<li><strong>Trackable<\/strong>: records how many times each user has signed in, last timestamps and ips.<\/li>\n<\/ul>\n<p>Also the loading process and ORM support received a lot of work before launching <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 0.7.<\/p>\n<p>For <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 0.8 we looked at tests for <a href=\"http:\/\/mongomapper.com\/\">MongoMapper<\/a> and the code got a great review. Also some work was done to get <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> up and running with latest version of <a href=\"http:\/\/github.com\/hassox\/warden\">Warden<\/a> and its new features, such as serializers. We also extracted a new base module from Confirmable:<\/p>\n<ul>\n<li><strong>Activatable<\/strong>: allow setting up extra activation methods for your models.<\/li>\n<\/ul>\n<p>We were receiving a lot of feedback from the community, and then we merged a cool new feature:<\/p>\n<ul>\n<li><strong>Lockable<\/strong>: lock accounts based on a number of invalid sign in attempts.<\/li>\n<\/ul>\n<p>Following the same pattern from Rails in <a href=\"http:\/\/github.com\/rails\/rails\/commit\/fa575973\">this commit<\/a> we moved flash messages to <code>:notice<\/code> and <code>:alert<\/code>, and released <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 0.9. Step by step the 1.0 version was coming.<\/p>\n<h3>What is new<\/h3>\n<p><a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 1.0 introduces a lot of cool features. The community seems to be really appreciating <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>, and we&#8217;ve received another great contribution:<\/p>\n<ul>\n<li><strong>Token Authenticatable<\/strong>: validates authenticity of a user while signing in using an authentication token (also known as &#8220;single access token&#8221;).<\/li>\n<\/ul>\n<p>In addition, we created the two most requested features for <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>:<\/p>\n<ul>\n<li><strong>Registerable<\/strong>: handles sign up users through a registration process, and also editing\/updating user info and deleting user account.<\/li>\n<li><strong>HTTP Authenticatable<\/strong>: http basic authentication.<\/li>\n<\/ul>\n<p>We also added the possibility to use Migratable while editing a table using <code>change_table<\/code>, among other fixes.<\/p>\n<h3>What comes next<\/h3>\n<p>We are preparing a new release of <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> fully compatible with Rails 3. It means <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> has now closed its development for new features in Rails 2.x. We are still going to maintain a 1.0 branch in github for bug fixes to keep everything up and running.<\/p>\n<h3>In the end<\/h3>\n<p>We would like to say thank you to everyone who has helped us achieve 1.0 version and who is using <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>, testing, creating issues, and giving all this feedback.<\/p>\n<p>Also, for those who were at <a href=\"http:\/\/www.railssummit.com.br\">Rails Summit<\/a> last year, we proposed something: get the biggest number of watchers on github as fast as possible! When we presented <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>, there were 7 watchers, and if I am right we were 4 of them. At the time of this writing we have 762 watchers. Yeah! I think I can take the risk and say we accomplished it. Thanks!<\/p>\n<p>Let&#8217;s celebrate <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> 1.0, and look forward to see <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a> and Rails 3. Enjoy!<\/p>\n<p>Happy birthday <a href=\"http:\/\/github.com\/plataformatec\/devise\">Devise<\/a>! <\/p>\n","protected":false},"excerpt":{"rendered":"<p>Today we are celebrating Devise&#8216;s birthday. But wait, if you have started watching Devise since the beginning you may be asking: has Devise already completed one year of life? Nope. Today we are completing exactly 4 months since Devise was released at Rails Summit Latin America 2009. And we are very proud and glad to &#8230; <a class=\"read-more-link\" href=\"https:\/\/blog.plataformatec.com.br\/2010\/02\/happy-birthday-devise\/\">\u00bb<\/a><\/p>\n","protected":false},"author":7,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"ngg_post_thumbnail":0,"footnotes":""},"categories":[1],"tags":[37,36,39,23,7],"aioseo_notices":[],"jetpack_sharing_enabled":true,"jetpack_featured_media_url":"","_links":{"self":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/746"}],"collection":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/users\/7"}],"replies":[{"embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/comments?post=746"}],"version-history":[{"count":43,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/746\/revisions"}],"predecessor-version":[{"id":802,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/posts\/746\/revisions\/802"}],"wp:attachment":[{"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/media?parent=746"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/categories?post=746"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/blog.plataformatec.com.br\/wp-json\/wp\/v2\/tags?post=746"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}